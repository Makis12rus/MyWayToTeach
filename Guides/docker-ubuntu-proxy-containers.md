# üöÄ –†–£–ö–û–í–û–î–°–¢–í–û: –¢–≤–æ—è –õ–∏—á–Ω–∞—è –ê—Ä–º–∏—è –°–µ—Ä–≤–µ—Ä–æ–≤ Ubuntu —Å Docker (–£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è) üöÄ

–ô–æ—É, —Å —Ç–æ–±–æ–π –ª—É—á—à–∏–π –ø–æ–º–æ—â–Ω–∏–∫! üëã –¢—ã –≥–æ—Ç–æ–≤ –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –ø–µ—Ä–µ–∂–∏–≤–∞—Ç—å, —á—Ç–æ —Ç–≤–æ–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≥–ª—é—á–∞—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∏—Ö –Ω–µ—Ç —Å–≤–æ–µ–≥–æ –ª–∏—á–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞? –•–æ—á–µ—à—å —Å–æ–∑–¥–∞—Ç—å —á—Ç–æ-—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –∫—Ä—É—Ç–æ–µ, —á—Ç–æ–±—ã –∫–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∏–¥–µ–ª–æ –≤ —Å–≤–æ—ë–º —É—é—Ç–Ω–æ–º —É–≥–æ–ª–∫–µ –∏ –Ω–∏–∫–æ–≥–æ –Ω–µ —Ç—Ä–æ–≥–∞–ª–æ? üè°

–ê —á—Ç–æ, –µ—Å–ª–∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –º–Ω–æ–≥–æ-–º–Ω–æ–≥–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –º–∏–Ω–∏-—Å–µ—Ä–≤–µ—Ä–æ–≤ Ubuntu 22.04 –¥–ª—è –≤—Å—è–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –±—ã–ª –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä —Å–æ —Å–≤–æ–∏–º —Å–µ–∫—Ä–µ—Ç–Ω—ã–º —Ç—É–Ω–Ω–µ–ª–µ–º (SOCKS5-–ø—Ä–æ–∫—Å–∏) –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ç–∞–π–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ (SSH)? –¢–æ–≥–¥–∞ —Ç—ã –ø–æ–ø–∞–ª –ø–æ –∞–¥—Ä–µ—Å—É! üòâ

### –ß—Ç–æ —Ç–∞–∫–æ–µ Docker –∏ –ø–æ—á–µ–º—É —ç—Ç–æ —Ç–≤–æ–π –ª–∏—á–Ω—ã–π —á–∏—Ç-–∫–æ–¥? üéÆ

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä ‚Äî —ç—Ç–æ –æ–≥—Ä–æ–º–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞, –∏ —Ä–∞–Ω—å—à–µ –≤—Å–µ —Ç–≤–æ–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç–æ–ª–ø–∏–ª–∏—Å—å –≤ –Ω–µ–π, –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —É—Å—Ç—Ä–∞–∏–≤–∞—è –¥—Ä–∞–º—ã –∏ —Å—Å–æ—Ä—ã –∏–∑-–∑–∞ –º–µ—Å—Ç–∞ (–Ω—É, —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å, –∫–∞–∫ –±—ã–≤–∞–µ—Ç üôÑ).

–° Docker Desktop –≤—Å—ë –ø–æ-–¥—Ä—É–≥–æ–º—É! –≠—Ç–æ —Ç–≤–æ–π –ª–∏—á–Ω—ã–π **"—á–∏—Ç-–∫–æ–¥"**. –í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–π –æ–±—â–µ–π –∫–æ–º–Ω–∞—Ç—ã, –º—ã –¥–∞–¥–∏–º –∫–∞–∂–¥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π, —á—ë—Ç–∫–∏–π **"–¥–æ–º–∏–∫"** ‚Äî –µ–≥–æ –º—ã –Ω–∞–∑—ã–≤–∞–µ–º **–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º** üì¶. –ü–æ–º–Ω–∏, –∫–∞–∂–¥—ã–π —Ç–∞–∫–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî —ç—Ç–æ —Ç–≤–æ–π **–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∏–Ω–∏-—Å–µ—Ä–≤–µ—Ä Ubuntu 22.04!** –ö—Ä—É—Ç–æ, –¥–∞? ü§©

–ê –∑–Ω–∞–µ—à—å, —á—Ç–æ —Å–∞–º–æ–µ –∫—Ä—É—Ç–æ–µ? –£ –Ω–∞—Å –µ—Å—Ç—å –µ—â—ë –∏ –≥–ª–∞–≤–Ω—ã–π —Å—Ç—Ä–∞—Ç–µ–≥ ‚Äî **Docker Compose** üé©. –û–Ω –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ —Å—Ä–∞–∑—É –ø–æ—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–ª—ã–µ "—Ä–∞–π–æ–Ω—ã" —Ç–∞–∫–∏—Ö –¥–æ–º–∏–∫–æ–≤ –∏ —Ä–∞–∑—Ä—É–ª–∏—Ç—å, –∫—Ç–æ —Å –∫–µ–º –¥—Ä—É–∂–∏—Ç, —á—Ç–æ–±—ã —Ç–≤–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–≥–ª–∏ —Ä–∞—Å—Ç–∏ –∏ —Ç–∞—â–∏—Ç—å –ø–æ-–∫—Ä—É–ø–Ω–æ–º—É! üöÄ

–¢–∞–∫ —á—Ç–æ, –ø—Ä–∏—Å—Ç–µ–≥–Ω–∏ —Ä–µ–º–Ω–∏! –ú—ã –Ω–∞—á–∏–Ω–∞–µ–º –Ω–∞—à–µ —Ü–∏—Ñ—Ä–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ! ‚ú®

---

## –†–∞–∑–¥–µ–ª 1: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¢–≤–æ–π –ö–æ–º–∞–Ω–¥–Ω—ã–π –¶–µ–Ω—Ç—Ä (Docker Desktop) üõ†Ô∏è

–ü—Ä–µ–∂–¥–µ —á–µ–º –Ω–∞—á–∞—Ç—å —Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ—é —Ü–∏—Ñ—Ä–æ–≤—É—é –∏–º–ø–µ—Ä–∏—é, –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å "–±–∞–∑—É" –Ω–∞ —Ç–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ. –≠—Ç–æ –∫–∞–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å—Ç–æ–ª, –ø—Ä–µ–∂–¥–µ —á–µ–º —Å—Ç—Ä–æ–∏—Ç—å LEGO! üß±

### –®–∞–≥ 1.1: –ó–∞–≥—Ä—É–∑–∫–∞ Docker Desktop

1.  **–ï—Å–ª–∏ —É —Ç–µ–±—è –∫–æ–º–ø—å—é—Ç–µ—Ä Windows:**
    * –û—Ç–ø—Ä–∞–≤–ª—è–π—Å—è –Ω–∞ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç Docker](https://www.docker.com/products/docker-desktop/) –∏ —Å–∫–∞—á–∞–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –¥–ª—è Windows. –û–Ω –±—É–¥–µ—Ç –≤–µ—Å–∏—Ç—å –Ω–µ–º–∞–ª–æ, —Ç–∞–∫ —á—Ç–æ –∑–∞–ø–∞—Å–∏—Å—å —Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∏, –º–æ–∂–µ—Ç –±—ã—Ç—å, –≤–∫—É—Å–Ω—è—à–∫–∞–º–∏. ‚è≥ –§–∞–π–ª –±—É–¥–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ `Docker Desktop Installer.exe`.

2.  **–ï—Å–ª–∏ —É —Ç–µ–±—è –∫–æ–º–ø—å—é—Ç–µ—Ä macOS:**
    * –ó–∞–±–∏—Ä–∞–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ Docker](https://www.docker.com/products/docker-desktop/), –≤—ã–±–∏—Ä–∞–π —Å–≤–æ—é –≤–µ—Ä—Å–∏—é macOS. –¢—ã –ø–æ–ª—É—á–∏—à—å `.dmg` —Ñ–∞–π–ª.

### –®–∞–≥ 1.2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Desktop

1.  **–î–ª—è Windows:**
    * –ó–∞–ø—É—Å—Ç–∏ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª `Docker Desktop Installer.exe`.
    * –ù–∞–∂–∏–º–∞–π "–î–∞–ª–µ–µ" –∏–ª–∏ "Install", –ø–æ–∫–∞ –Ω–µ —É–≤–∏–¥–∏—à—å –æ–∫–Ω–æ **"Configuration"** (–ù–∞—Å—Ç—Ä–æ–π–∫–∏).
    * **–ß—Ç–æ —Ç—É—Ç –≤–∞–∂–Ω–æ:**
        * **"Use WSL 2 instead of Hyper-V (recommended)"**: –≠—Ç–æ —Ç–≤–æ—è —Å–µ–∫—Ä–µ—Ç–Ω–∞—è –±–∞–∑–∞ ü§´ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–∞, –≥–¥–µ –±—É–¥—É—Ç –∂–∏—Ç—å —Ç–≤–æ–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã. –ë–µ–∑ –Ω–µ—ë –Ω–∏–∫–∞–∫, —Ç–∞–∫ —á—Ç–æ **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ!** (WSL 2 ‚Äî —ç—Ç–æ –∫–∞–∫ –º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –æ—á–µ–Ω—å –º–æ—â–Ω—ã–π Linux –≤–Ω—É—Ç—Ä–∏ —Ç–≤–æ–µ–≥–æ Windows).
        * **"Allow Windows Containers to be used with this installation"**: –≠—Ç—É –≥–∞–ª–æ—á–∫—É **–ù–ï –¢–†–û–ì–ê–ô ‚ùå**. –ù–∞–º –Ω—É–∂–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã Linux (—Ç–∏–ø–∞ Ubuntu), —Ç–∞–∫ —á—Ç–æ –Ω–µ –±—É–¥–µ–º –æ—Ç–≤–ª–µ–∫–∞—Ç—å—Å—è –Ω–∞ Windows-–≤–µ—Ä—Å–∏–∏.
        * **"Add shortcut to desktop"**: –ü–æ –∂–µ–ª–∞–Ω–∏—é, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –∏–∫–æ–Ω–∫–∞ Docker –±—ã–ª–∞ –ø—Ä—è–º–æ –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ. üñ•Ô∏è –≠—Ç–æ —É–¥–æ–±–Ω–æ!
    * –ù–∞–∂–º–∏ "OK" –∏ –¥–æ–∂–¥–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

2.  **–î–ª—è macOS:**
    * –û—Ç–∫—Ä–æ–π —Å–∫–∞—á–∞–Ω–Ω—ã–π `.dmg` —Ñ–∞–π–ª.
    * –ü–µ—Ä–µ—Ç–∞—â–∏ –∏–∫–æ–Ω–∫—É "Docker Desktop" –≤ –ø–∞–ø–∫—É "Applications".
    * –ó–∞–ø—É—Å—Ç–∏ Docker Desktop –∏–∑ –ø–∞–ø–∫–∏ "Applications". –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ–ø—Ä–æ—Å–∏—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å –µ–≥–æ.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Docker Desktop –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Ç–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.

### –®–∞–≥ 1.3: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ Docker Desktop

* –ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ—Ç–∫—Ä–æ–µ—à—å Docker Desktop –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑, –æ–Ω –º–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—É—Ä –∏–ª–∏ –ø—Ä–æ–π—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é. –ú–æ–∂–µ—à—å –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∞—Ç—å **"Skip" (–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å)** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –ø–µ—Ä–µ–π—Ç–∏ –∫ –¥–µ–ª—É. üöÄ
* **–ß—Ç–æ —Ç—ã —É–≤–∏–¥–∏—à—å:** –û—Ç–∫—Ä–æ–µ—Ç—Å—è –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ Docker Desktop.
* **–ß—Ç–æ –¥–µ–ª–∞—Ç—å:** –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤–Ω–∏–∑—É –æ–∫–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è **"Engine running" (–î–≤–∏–∂–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç) üü¢**. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Ç–≤–æ–π –∫–æ–º–∞–Ω–¥–Ω—ã–π —Ü–µ–Ω—Ç—Ä –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ. –ü–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–∞–∂–∏–º–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ, –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –º—ã –±—É–¥–µ–º –æ—Ç–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ –¢–µ—Ä–º–∏–Ω–∞–ª.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Docker Desktop –∑–∞–ø—É—â–µ–Ω–æ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "Engine running".

### –®–∞–≥ 1.4: –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ Docker Desktop –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è? üò±

–ë—ã–≤–∞–µ—Ç —Ç–∞–∫–æ–µ, –Ω–µ –ø–∞–Ω–∏–∫—É–π! –í–æ—Ç —á—Ç–æ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å:

1.  **–î–ª—è Windows (–ø—Ä–æ–±–ª–µ–º—ã —Å WSL 2):**
    * –û—Ç–∫—Ä–æ–π "–ö–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É" –∏–ª–∏ PowerShell **–æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** (—ç—Ç–æ –≤–∞–∂–Ω–æ! üëë).
    * –ù–∞–ø–∏—à–∏: `wsl --set-default-version 2` –∏ –Ω–∞–∂–º–∏ Enter.
    * **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ Docker –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WSL 2.
    * –ï—Å–ª–∏ WSL 2 –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –µ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å. –°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º.
    * –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞ –≤ BIOS/UEFI —Ç–≤–æ–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞. –≠—Ç–æ –∫–∞–∫ –¥–≤–∏–∂–æ–∫, –±–µ–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∏ –æ–¥–∏–Ω —Ç–≤–æ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π "–¥–æ–º–∏–∫" –Ω–µ –ø–æ–µ–¥–µ—Ç. –ü–æ–≥—É–≥–ª–∏ "–∫–∞–∫ –≤–∫–ª—é—á–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ \[–º–æ–¥–µ–ª—å —Ç–≤–æ–µ–≥–æ –∫–æ–º–ø–∞\]", —ç—Ç–æ –æ–±—ã—á–Ω–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö, –∫–æ–≥–¥–∞ —Ç—ã –≤–∫–ª—é—á–∞–µ—à—å –∫–æ–º–ø—å—é—Ç–µ—Ä (–æ–±—ã—á–Ω–æ –∫–ª–∞–≤–∏—à–∏ F2, F10, Del –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ).

2.  **–î–ª—è macOS (–ø—Ä–æ–±–ª–µ–º—ã —Å HyperKit):**
    * **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ Mac.** üîÑ –°–µ—Ä—å—ë–∑–Ω–æ, –∏–Ω–æ–≥–¥–∞ —ç—Ç–æ —Å–∞–º–æ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –º–Ω–æ–≥–∏—Ö –ø—Ä–æ–±–ª–µ–º!
    * **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –í–æ–∑–º–æ–∂–Ω–æ, Mac –Ω–µ –ø—É—Å–∫–∞–µ—Ç HyperKit. –ó–∞–π–¥–∏ –≤ "–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏" -> "–ó–∞—â–∏—Ç–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" (–∏–ª–∏ "–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏" -> "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" –≤ –±–æ–ª–µ–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö macOS) –∏ –¥–∞–π —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ Docker Desktop, –µ—Å–ª–∏ —É–≤–∏–¥–∏—à—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Docker Desktop —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "Engine running".

---

## –†–∞–∑–¥–µ–ª 2: –°—Ç—Ä–æ–∏–º –°–≤–æ—é –ê—Ä–º–∏—é –°–µ—Ä–≤–µ—Ä–æ–≤ Ubuntu üèóÔ∏è

–¢–∞–∫, —á—É–≤–∞–∫, —Ö–≤–∞—Ç–∏—Ç –ø–∞—Ä–∏—Ç—å—Å—è —Å –æ–¥–Ω–∏–º "–¥–æ–º–∏–∫–æ–º"! –°–µ–≥–æ–¥–Ω—è –º—ã —Å—Ä–∞–∑—É –∑–∞–º—É—Ç–∏–º —Ü–µ–ª—É—é —Å–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –¥–æ–º–∏–∫–æ–≤ Ubuntu 22.04, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–∏–Ω–∏-—Å–µ—Ä–≤–µ—Ä, —Å–æ —Å–≤–æ–∏–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–º SOCKS5-–ø—Ä–æ–∫—Å–∏ –¥–ª—è –≤—ã—Ö–æ–¥–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ç–∞–π–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ (SSH). üåêüîí

–ù–∞—à –≥–ª–∞–≤–Ω—ã–π —Å—Ç—Ä–∞—Ç–µ–≥ **Docker Compose** üé© –ø–æ–º–æ–∂–µ—Ç –Ω–∞–º —Å–æ–±—Ä–∞—Ç—å –≤–µ—Å—å —ç—Ç–æ—Ç –¥–≤–∏–∂: –º–Ω–æ–≥–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤, –∏ –≤—Å—ë —ç—Ç–æ –≤ —Å–≤–æ–µ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π, —á—ë—Ç–∫–æ–π —Å–µ—Ç–∏.

### –®–∞–≥ 2.1: –°–æ–∑–¥–∞–Ω–∏–µ –†–∞–±–æ—á–µ–π –ü–∞–ø–∫–∏

–°–æ–∑–¥–∞–π –Ω–∞ —Å–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –Ω–æ–≤—É—é –ø–∞–ø–∫—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, `docker_ubuntu_proxies`. –í—Å–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –Ω–µ–π.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∞ —Ç–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –µ—Å—Ç—å –ø—É—Å—Ç–∞—è –ø–∞–ø–∫–∞ `docker_ubuntu_proxies`.

### –®–∞–≥ 2.2: –°–æ–∑–¥–∞–µ–º "–†–µ—Ü–µ–ø—Ç" –¥–ª—è –Ω–∞—à–∏—Ö –î–æ–º–∏–∫–æ–≤ (Dockerfile) üç∞

–ü—Ä–µ–∂–¥–µ —á–µ–º —Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º–∏–∫–∏-–º–∏–Ω–∏-—Å–µ—Ä–≤–µ—Ä—ã, –Ω—É–∂–µ–Ω –∏—Ö "—Ä–µ—Ü–µ–ø—Ç". –≠—Ç–æ —Ñ–∞–π–ª `Dockerfile`, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—Å–∫–∞–∂–µ—Ç Docker, –∫–∞–∫ "–∏—Å–ø–µ—á—å" –æ–±—Ä–∞–∑ (—à–∞–±–ª–æ–Ω) –¥–ª—è –Ω–∞—à–∏—Ö –¥–æ–º–∏–∫–æ–≤ —Å Ubuntu, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSH-—Å–µ—Ä–≤–µ—Ä, `proxychains` –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏—Ö. –í—Å–µ —Ç–≤–æ–∏ –¥–æ–º–∏–∫–∏-—Å–µ—Ä–≤–µ—Ä—ã –±—É–¥—É—Ç —Å–¥–µ–ª–∞–Ω—ã –ø–æ —ç—Ç–æ–º—É –æ–¥–Ω–æ–º—É —Ä–µ—Ü–µ–ø—Ç—É.

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `Dockerfile` (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è!) –≤–Ω—É—Ç—Ä–∏ –ø–∞–ø–∫–∏ `docker_ubuntu_proxies` –∏ –∑–∞–∫–∏–Ω—å —Ç—É–¥–∞ –≤–æ—Ç —ç—Ç–æ:

```dockerfile
# =========================
# üìù –§–∞–π–ª: Dockerfile
# =========================

# –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑: –ú—ã –Ω–∞—á–∏–Ω–∞–µ–º —Å —á–∏—Å—Ç–æ–π Ubuntu 22.04
FROM ubuntu:22.04

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã:
# openssh-server - –¥–ª—è SSH-–¥–æ—Å—Ç—É–ø–∞
# curl - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–Ω–µ—à–Ω–µ–≥–æ IP –∏ –¥—Ä—É–≥–∏—Ö —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
# net-tools, iproute2 - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç–µ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
# proxychains - –ì–õ–ê–í–ù–û–ï: —ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ SOCKS5-–ø—Ä–æ–∫—Å–∏
# python3, python3-pip - –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –æ–±—â–∏—Ö –∑–∞–¥–∞—á
RUN apt update && \
    apt install -y openssh-server curl net-tools iproute2 proxychains python3 python3-pip && \
    mkdir -p /var/run/sshd # –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è SSH-–¥–µ–º–æ–Ω–∞

# üö® –í–ù–ò–ú–ê–ù–ò–ï: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root! üö®
# –ó–ê–ú–ï–ù–ò–¢–ï <–¢–í–û–ô_–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨> –Ω–∞ –°–í–û–ô –°–õ–û–ñ–ù–´–ô –ü–ê–†–û–õ–¨!
# –≠—Ç–æ –û–ß–ï–ù–¨ –í–ê–ñ–ù–û –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –ø–∞—Ä–æ–ª–∏!
RUN echo 'root:<–¢–í–û–ô_–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨>' | chpasswd

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º SSH-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.
# PermitRootLogin yes - —Ä–∞–∑—Ä–µ—à–∞–µ–º –≤—Ö–æ–¥ –ø–æ–¥ root (–¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –≤ —ç—Ç–æ–º –≥–∞–π–¥–µ,
# –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π).
# PasswordAuthentication yes - —Ä–∞–∑—Ä–µ—à–∞–µ–º –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é.
# –≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–ø—Ä–æ—â–∞—é—Ç —Ä–∞–±–æ—Ç—É, –Ω–æ –º–æ–≥—É—Ç —Å–Ω–∏–∑–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
RUN sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config && \
    sed -i 's/#PasswordAuthentication yes/PasswordAuthentication yes/' /etc/ssh/sshd_config && \
    sed -i 's/UsePAM yes/UsePAM no/' /etc/ssh/sshd_config # –û—Ç–∫–ª—é—á–∞–µ–º PAM, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å TTY –≤ Docker

# –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ä—Ç 22 –¥–ª—è SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
EXPOSE 22

# –ö–æ–ø–∏—Ä—É–µ–º –Ω–∞—à —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ (start.sh) –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
# –∏ –¥–µ–ª–∞–µ–º –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º. –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
COPY start.sh /usr/local/bin/start.sh
RUN chmod +x /usr/local/bin/start.sh

# –ò—Å–ø–æ–ª—å–∑—É–µ–º ENTRYPOINT –¥–ª—è –∑–∞–ø—É—Å–∫–∞ start.sh.
# –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
ENTRYPOINT ["/usr/local/bin/start.sh"]

# CMD –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –≠—Ç–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–æ, –µ—Å–ª–∏ ENTRYPOINT –Ω–µ –∑–∞–ø—É—â–µ–Ω.
# –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ start.sh –∑–∞–ø—É—Å–∫–∞–µ—Ç sshd, –ø–æ—ç—Ç–æ–º—É —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞,
# –Ω–æ —ç—Ç–æ —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è Dockerfile.
CMD ["/usr/sbin/sshd", "-D"]
```
**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ó–ê–ú–ï–ù–ò–¢–ï `<–¢–í–û–ô_–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨>` –Ω–∞ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π, –û–ß–ï–ù–¨ –°–õ–û–ñ–ù–´–ô –ø–∞—Ä–æ–ª—å!** ‚ö†Ô∏è –≠—Ç–æ —Ç–≤–æ—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –Ω–µ –∑–∞–±—É–¥—å! –û–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–æ–∂–Ω—ã–º, –∫–∞–∫ —à–∏—Ñ—Ä –¥—Ä–µ–≤–Ω–∏—Ö –º–∞–π—è! üßê

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª `Dockerfile` —Å–æ–∑–¥–∞–Ω –≤ –ø–∞–ø–∫–µ `docker_ubuntu_proxies` –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥.

### –®–∞–≥ 2.3: –°–æ–∑–¥–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ (`start.sh`) üöÄ

–í —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ (`docker_ubuntu_proxies`), –≥–¥–µ —É —Ç–µ–±—è –ª–µ–∂–∏—Ç `Dockerfile`, —Å–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `start.sh` –∏ –≤—Å—Ç–∞–≤—å –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥. –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª `proxychains.conf` –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

```bash
#!/bin/bash
# =========================
# üìù –§–∞–π–ª: start.sh
# =========================

set -e # –í—ã–π—Ç–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –µ—Å–ª–∏ –∫–∞–∫–∞—è-–ª–∏–±–æ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º —Å—Ç–∞—Ç—É—Å–æ–º.
set -x # –ü–µ—á–∞—Ç–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏ –∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ –º–µ—Ä–µ –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏).

echo "INFO: start.sh –∑–∞–ø—É—â–µ–Ω."

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è ALL_PROXY —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
if [ -z "${ALL_PROXY}" ]; then
    echo "CRITICAL ERROR: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è ALL_PROXY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å." >&2
    # –ï—Å–ª–∏ ALL_PROXY –Ω–µ –∑–∞–¥–∞–Ω, –≤—Å–µ —Ä–∞–≤–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ–º SSHD, –Ω–æ –±–µ–∑ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è
    echo "INFO: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å SSH-–¥–µ–º–æ–Ω –±–µ–∑ –ø—Ä–æ–∫—Å–∏..."
    ssh-keygen -A # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º SSH-–∫–ª—é—á–∏ —Ö–æ—Å—Ç–∞
    exec /usr/sbin/sshd -D
    exit 1
fi

# –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π ALL_PROXY
PROXY_FULL_STRING="${ALL_PROXY}"

# –£–¥–∞–ª—è–µ–º "socks5://" –ø—Ä–µ—Ñ–∏–∫—Å
PROXY_CLEAN="${PROXY_FULL_STRING#socks5://}"

# –†–∞–∑–¥–µ–ª—è–µ–º —Å—Ç—Ä–æ–∫—É –Ω–∞ —á–∞—Å—Ç–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Ö–æ—Å—Ç–∞/–ø–æ—Ä—Ç–∞
PROXY_HOST_PORT=""
PROXY_USERNAME=""
PROXY_PASSWORD=""

if [[ "${PROXY_CLEAN}" == *"@"* ]]; then
    # –ï—Å–ª–∏ –µ—Å—Ç—å @, –∑–Ω–∞—á–∏—Ç –µ—Å—Ç—å user:pass (–ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å)
    AUTH_PART="${PROXY_CLEAN%@*}"
    PROXY_HOST_PORT="${PROXY_CLEAN#*@}"
    PROXY_USERNAME="${AUTH_PART%:*}"
    PROXY_PASSWORD="${AUTH_PART#*:}"
else
    # –ù–µ—Ç @, –∑–Ω–∞—á–∏—Ç –Ω–µ—Ç user:pass
    PROXY_HOST_PORT="${PROXY_CLEAN}"
fi

# –ò–∑–≤–ª–µ–∫–∞–µ–º —Ö–æ—Å—Ç (IP –∏–ª–∏ –¥–æ–º–µ–Ω) –∏ –ø–æ—Ä—Ç
PROXY_HOST="${PROXY_HOST_PORT%:*}"
PROXY_PORT="${PROXY_HOST_PORT#*:}"

# –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ proxychains
# strict_chain - –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Ç—Ä–∞—Ñ–∏–∫ –ø–æ–π–¥–µ—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
# proxy_dns - DNS-–∑–∞–ø—Ä–æ—Å—ã —Ç–æ–∂–µ –ø–æ–π–¥—É—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
cat <<EOF > /etc/proxychains.conf
strict_chain
proxy_dns
# –£–∫–∞–∑—ã–≤–∞–µ–º DNS-—Å–µ—Ä–≤–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ proxychains –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
nameserver 8.8.8.8
nameserver 1.1.1.1
tcp_read_time_out 15000
tcp_connect_time_out 8000

[ProxyList]
EOF

# –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫—É —Å –ø—Ä–æ–∫—Å–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ª–∏—á–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
if [[ -n "$PROXY_USERNAME" ]]; then
    echo "socks5 ${PROXY_HOST} ${PROXY_PORT} ${PROXY_USERNAME} ${PROXY_PASSWORD}" >> /etc/proxychains.conf
else
    # –ï—Å–ª–∏ –ø—Ä–æ–∫—Å–∏ –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫—Ä—ã—Ç—ã–π –ø—Ä–æ–∫—Å–∏)
    echo "socks5 ${PROXY_HOST} ${PROXY_PORT}" >> /etc/proxychains.conf
fi
chmod 644 /etc/proxychains.conf
echo "INFO: /etc/proxychains.conf —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω."

# –ò—â–µ–º –ø—É—Ç—å –∫ libproxychains.so.3 –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å
LIB_PROXYCHAINS_PATH=$(find /usr/lib -name "libproxychains.so*" 2>/dev/null | grep -E 'libproxychains\.so\.3$|libproxychains\.so$' | head -n 1)

if [ -z "${LIB_PROXYCHAINS_PATH}" ]; then
    echo "CRITICAL ERROR: libproxychains.so path is empty! Automatic proxying via LD_PRELOAD will NOT work." >&2
else
    # –°–æ–∑–¥–∞–µ–º —Å–∫—Ä–∏–ø—Ç –≤ /etc/profile.d/ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ LD_PRELOAD
    cat <<EOF > /etc/profile.d/proxychains_auto.sh
#!/bin/bash
# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º LD_PRELOAD, —á—Ç–æ–±—ã proxychains –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–ª —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã.
export LD_PRELOAD="${LIB_PROXYCHAINS_PATH}"
# –£–∫–∞–∑—ã–≤–∞–µ–º proxychains, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –µ–≥–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
export PROXYCHAINS_CONF="/etc/proxychains.conf"
# –û—Ç–∫–ª—é—á–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP/S_PROXY –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.
# Traffic should be routed exclusively via proxychains.
unset HTTP_PROXY HTTPS_PROXY ALL_PROXY NO_PROXY
echo "INFO: LD_PRELOAD –∏ PROXYCHAINS_CONF —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã." >&2
EOF
    chmod +x /etc/profile.d/proxychains_auto.sh
    echo "INFO: /etc/profile.d/proxychains_auto.sh —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω."

    # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è LD_PRELOAD –≤ —Ç–µ–∫—É—â–µ–π –æ–±–æ–ª–æ—á–∫–µ –¥–ª—è —Ç–µ—Å—Ç–∞
    echo "INFO: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è LD_PRELOAD –≤ —Ç–µ–∫—É—â–µ–π –æ–±–æ–ª–æ—á–∫–µ..."
    source /etc/profile.d/proxychains_auto.sh
    echo "INFO: LD_PRELOAD –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω."

    # –ü—Ä–æ–≤–µ—Ä–∫–∞, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ LD_PRELOAD, –≤—ã–ø–æ–ª–Ω–∏–≤ curl –ø—Ä—è–º–æ –∏–∑ start.sh
    echo "INFO: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ curl ifconfig.me –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ LD_PRELOAD..."
    curl ifconfig.me || echo "WARNING: curl ifconfig.me –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏."
    echo "INFO: –ü—Ä–æ–≤–µ—Ä–∫–∞ curl –∑–∞–≤–µ—Ä—à–µ–Ω–∞."
fi

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º SSH-–∫–ª—é—á–∏ —Ö–æ—Å—Ç–∞ (–µ—Å–ª–∏ –æ–Ω–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç), —ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ sshd
echo "INFO: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è SSH-–∫–ª—é—á–µ–π —Ö–æ—Å—Ç–∞..."
ssh-keygen -A
echo "INFO: SSH-–∫–ª—é—á–∏ —Ö–æ—Å—Ç–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã (–µ—Å–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å)."

echo "INFO: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å SSH-–¥–µ–º–æ–Ω..."
# –ó–∞–ø—É—Å–∫–∞–µ–º SSH-—Å–µ—Ä–≤–µ—Ä –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å (PID 1)
# –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –∑–∞–ø—É—â–µ–Ω–Ω—ã–º,
# –ø–æ–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç SSH-—Å–µ—Ä–≤–µ—Ä.
exec /usr/sbin/sshd -D
echo "INFO: SSH-–¥–µ–º–æ–Ω —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω (—ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–ª—è—Ç—å—Å—è, –µ—Å–ª–∏ exec —Å—Ä–∞–±–æ—Ç–∞–ª)."
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª `start.sh` —Å–æ–∑–¥–∞–Ω –≤ –ø–∞–ø–∫–µ `docker_ubuntu_proxies` –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–¥. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø—É—Ç—å –∫ `libproxychains.so.3`, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –±–æ–ª–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º.

### –®–∞–≥ 2.4: "–ò—Å–ø–µ–∫–∏" —Å–≤–æ–π –æ–±—Ä–∞–∑ –¥–æ–º–∏–∫–∞! üç™

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Ç—ã —Å–æ–∑–¥–∞–ª —Ñ–∞–π–ª—ã `Dockerfile` –∏ `start.sh` —Å–æ –≤—Å–µ–º–∏ —ç—Ç–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏, —Ç–µ–±–µ –Ω—É–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å Docker "–∏—Å–ø–µ—á—å" –∏–∑ –Ω–µ–≥–æ –æ–±—Ä–∞–∑. –≠—Ç–æ –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —à–∞–±–ª–æ–Ω –¥–ª—è –ø–µ—á–µ–Ω—å—è, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ –º–Ω–æ–≥–æ-–º–Ω–æ–≥–æ —Ä–∞–∑ –≤—ã–ø–µ–∫–∞—Ç—å! üòã

1.  –û—Ç–∫—Ä–æ–π **–¢–µ—Ä–º–∏–Ω–∞–ª** (–ø–æ–¥ Windows —ç—Ç–æ PowerShell, CMD –∏–ª–∏ Git Bash, –ø–æ–¥ macOS/Linux ‚Äî –ø—Ä–æ—Å—Ç–æ –¢–µ—Ä–º–∏–Ω–∞–ª).
2.  –ü–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É `docker_ubuntu_proxies`, –≥–¥–µ —Ç—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª —Ñ–∞–π–ª—ã.

    ```bash
    # –ü—Ä–∏–º–µ—Ä, –∫–∞–∫ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É:
    cd C:\Users\–¢–≤–æ—ë–ò–º—è\docker_ubuntu_proxies # –î–ª—è Windows
    # –∏–ª–∏, –µ—Å–ª–∏ –Ω–∞ Mac/Linux:
    cd ~/Documents/docker_ubuntu_proxies # –ü—Ä–∏–º–µ—Ä –¥–ª—è Mac/Linux
    ```
3.  –ù–∞–±–µ—Ä–∏ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –∏ –Ω–∞–∂–º–∏ Enter:

    ```bash
    docker build -t my-ubuntu-ssh-server .
    ```
    * `docker build` ‚Äî —ç—Ç–æ –∫–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –≥–æ–≤–æ—Ä–∏—Ç Docker: "–ù–∞—á–∏–Ω–∞–π —Å—Ç—Ä–æ–∏—Ç—å –æ–±—Ä–∞–∑!"
    * `-t my-ubuntu-ssh-server` ‚Äî —ç—Ç–æ –∫–∞–∫ –¥–∞—Ç—å –∏–º—è —Å–≤–æ–µ–º—É —à–∞–±–ª–æ–Ω—É. –≠—Ç–æ –∏–º—è –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ –ø–æ—Ç–æ–º –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ —ç—Ç–æ—Ç –æ–±—Ä–∞–∑.
    * `.` (—Ç–æ—á–∫–∞) –≤ –∫–æ–Ω—Ü–µ ‚Äî —ç—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ! –û–Ω–∞ –≥–æ–≤–æ—Ä–∏—Ç Docker: "–ò—â–∏ `Dockerfile` –∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, `start.sh`, –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ."
    üí° **–í–∞–∂–Ω–æ!** –ò–º—è —Ç–≤–æ–µ–≥–æ –æ–±—Ä–∞–∑–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –≤ **–Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ!** –ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ –¥–µ—Ñ–∏—Å—ã (`-`) –∏–ª–∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è (`_`). **–ù–ò–ö–ê–ö–ò–• –ó–ê–ì–õ–ê–í–ù–´–• –ë–£–ö–í!** –≠—Ç–æ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –Ω–∏–∫–æ–≤ –≤ –∏–≥—Ä–∞—Ö ‚Äî –≤—Å—ë –ø–æ-–º–∞–ª–µ–Ω—å–∫–æ–º—É! üéÆ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Docker –Ω–∞—á–Ω–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ `Dockerfile` –ø–æ –æ—á–µ—Ä–µ–¥–∏. –¢—ã —É–≤–∏–¥–∏—à—å –º–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ –¢–µ—Ä–º–∏–Ω–∞–ª–µ, —ç—Ç–æ Docker —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞–∫–µ—Ç—ã, –∫–æ–ø–∏—Ä—É–µ—Ç —Å–∫—Ä–∏–ø—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç SSH. –ï—Å–ª–∏ –≤—Å—ë –ø—Ä–æ–π–¥—ë—Ç —É—Å–ø–µ—à–Ω–æ, –≤ –∫–æ–Ω—Ü–µ —Ç—ã —É–≤–∏–¥–∏—à—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—Ä–∞–∑–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: `Successfully built <image_id> Successfully tagged my-ubuntu-ssh-server:latest`.

### –®–∞–≥ 2.5: –ü–∏—à–µ–º "–ø–ª–∞–Ω —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞" (`docker-compose.yml`) üìù

–í —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ (`docker_ubuntu_proxies`), –≥–¥–µ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å `Dockerfile` –∏ `start.sh`, —Å–æ–∑–¥–∞–π –∏–ª–∏ –æ–±–Ω–æ–≤–∏ —Ñ–∞–π–ª `docker-compose.yml`. –≠—Ç–æ –±—É–¥–µ—Ç —Ç–≤–æ–π –º–µ–≥–∞-–ø–ª–∞–Ω –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ —Ü–µ–ª–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ SOCKS5-–ø—Ä–æ–∫—Å–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞! üè∞

–ú—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—à `my-ubuntu-ssh-server` –æ–±—Ä–∞–∑, –∏–º–µ—Ç—å —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π SOCKS5-–ø—Ä–æ–∫—Å–∏ –∏ –ø—Ä–æ–±—Ä–æ—à–µ–Ω–Ω—ã–π SSH-–ø–æ—Ä—Ç.
**–í–∞–∂–Ω–æ:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Ç–µ–±–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π SOCKS5-–ø—Ä–æ–∫—Å–∏, –∞ —Ç–∞–∫–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å.

```yaml
# =========================
# üìù –§–∞–π–ª: docker-compose.yml
# =========================
version: '3.8'
# –í–µ—Ä—Å–∏—è —Ç–≤–æ–µ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞. –î–µ—Ä–∂–∏ –µ—ë –∞–∫—Ç—É–∞–ª—å–Ω–æ–π, —á—Ç–æ–±—ã —é–∑–∞—Ç—å –≤—Å–µ —Ñ–∏—á–∏! üåü

services:
  # –¢—É—Ç –º—ã –æ–ø–∏—Å—ã–≤–∞–µ–º –ö–ê–ñ–î–´–ô —Ç–∏–ø –¥–æ–º–∏–∫–∞ (—Å–µ—Ä–≤–∏—Å), –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–º –Ω—É–∂–µ–Ω.
  # –ü–æ–º–Ω–∏, –∫–∞–∂–¥—ã–π ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∏–Ω–∏-—Å–µ—Ä–≤–µ—Ä Ubuntu 22.04!
  # –¢—ã –º–æ–∂–µ—à—å –¥–æ–±–∞–≤–ª—è—Ç—å –∏–ª–∏ —É–¥–∞–ª—è—Ç—å —Å–µ—Ä–≤–∏—Å—ã (s1, s2, s3 –∏ —Ç.–¥.) –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
  # –ü—Ä–æ—Å—Ç–æ –∫–æ–ø–∏—Ä—É–π –±–ª–æ–∫, –º–µ–Ω—è–π –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, s4), –ø–æ—Ä—Ç—ã –∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏.

  s1: # –ü–µ—Ä–≤—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä Ubuntu
    build: .
    # Docker Compose: "–ò—Å–ø–æ–ª—å–∑—É–π Dockerfile –∏–∑ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏ –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞!" üè≠
    container_name: ubuntu_proxy_s1
    # –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –ª–µ–≥–∫–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
    ports:
      - "2221:22"
    # –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ—Ä—Ç SSH: 2221 –Ω–∞ —Ç–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤–µ–¥—ë—Ç –Ω–∞ 22 –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
    # –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–π –£–ù–ò–ö–ê–õ–¨–ù–´–ô –ø–æ—Ä—Ç –Ω–∞ —Ö–æ—Å—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2222, 2223 –∏ —Ç.–¥.).
    networks:
      my_test_network:
      # –ü–æ–¥–∫–ª—é—á–∏ –¥–æ–º–∏–∫ –∫ –Ω–∞—à–µ–π –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–µ—Ç–∏. –≠—Ç–æ –∫–∞–∫ —Ç–≤–æ—è –∑–∞–∫—Ä—ã—Ç–∞—è —É–ª–∏—Ü–∞ –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º –≥–æ—Ä–æ–¥–µ. üèòÔ∏è
        ipv4_address: 172.20.0.10
        # –î–∞—ë–º –µ–º—É —É–Ω–∏–∫–∞–ª—å–Ω—ã–π IP-–∞–¥—Ä–µ—Å –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–π —Å–µ—Ç–∏. –ö–∞–∫ –Ω–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã. üìç
        # –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–π –£–ù–ò–ö–ê–õ–¨–ù–´–ô IP-–∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, 172.20.0.11, 172.20.0.12 –∏ —Ç.–¥.).
    environment:
      # –ó–¥–µ—Å—å –º—ã –ø–µ—Ä–µ–¥–∞—ë–º —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –¢–í–û–ò –°–ï–ö–†–ï–¢–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï! üïµÔ∏è‚Äç‚ôÄÔ∏è
      # –ó–ê–ú–ï–ù–ò –ù–ê –†–ï–ê–õ–¨–ù–´–ï –£–ù–ò–ö–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï –ü–†–û–ö–°–ò 1! üö®
      # –§–æ—Ä–º–∞—Ç: socks5://–õ–û–ì–ò–ù:–ü–ê–†–û–õ–¨@–ê–î–†–ï–°_–ü–†–û–ö–°–ò:–ü–û–†–¢
      ALL_PROXY: "socks5://<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò_1>:<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò_1>@<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_1>:1080" # –ó–ê–ú–ï–ù–ò
      # NO_PROXY - –∫—É–¥–∞ –Ω–µ –Ω—É–∂–Ω–æ —Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ (–ª–æ–∫–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ Docker). üö´
      # –í–∞–∂–Ω–æ, —á—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –º–æ–≥–ª–∏ –æ–±—â–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –≤ —Ç–≤–æ–µ–π —Å–µ—Ç–∏
      # (my_test_network!) –∏ —Å Docker Desktop –Ω–∞–ø—Ä—è–º—É—é. –≠—Ç–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è - –º–∞—Å—Ç—Ö—ç–≤! ‚ö†Ô∏è
      NO_PROXY: "localhost,127.0.0.1,host.docker.internal,docker-desktop,172.17.0.0/16,172.18.0.0/16,172.19.0.0/16,172.20.0.0/16"
    dns:
      - 8.8.8.8
      - 1.1.1.1
      # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–µ DNS-—Å–µ—Ä–≤–µ—Ä—ã –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–º–µ–Ω –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
    restart: always
    # –í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. üí™

  s2: # –í—Ç–æ—Ä–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä Ubuntu
    build: .
    container_name: ubuntu_proxy_s2
    ports:
      - "2222:22"
    networks:
      my_test_network:
        ipv4_address: 172.20.0.11
    environment:
      # –ó–ê–ú–ï–ù–ò –ù–ê –†–ï–ê–õ–¨–ù–´–ï –£–ù–ò–ö–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï –ü–†–û–ö–°–ò 2! üö®
      ALL_PROXY: "socks5://<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò_2>:<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò_2>@<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_2>:1080" # –ó–ê–ú–ï–ù–ò
      NO_PROXY: "localhost,127.0.0.1,host.docker.internal,docker-desktop,172.17.0.0/16,172.18.0.0/16,172.19.0.0/16,172.20.0.0/16"
    dns:
      - 8.8.8.8
      - 1.1.1.1
    restart: always

  s3: # –¢—Ä–µ—Ç–∏–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä Ubuntu
    build: .
    container_name: ubuntu_proxy_s3
    ports:
      - "2223:22"
    networks:
      my_test_network:
        ipv4_address: 172.20.0.12
    environment:
      # –ó–ê–ú–ï–ù–ò –ù–ê –†–ï–ê–õ–¨–ù–´–ï –£–ù–ò–ö–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï –ü–†–û–ö–°–ò 3! üö®
      ALL_PROXY: "socks5://<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò_3>:<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò_3>@<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_3>:1080" # –ó–ê–ú–ï–ù–ò
      NO_PROXY: "localhost,127.0.0.1,host.docker.internal,docker-desktop,172.17.0.0/16,172.18.0.0/16,172.19.0.0/16,172.20.0.0/16"
    dns:
      - 8.8.8.8
      - 1.1.1.1
    restart: always

networks:
  # –¢—É—Ç —Ç—ã –æ–ø–∏—Å—ã–≤–∞–µ—à—å —Å–≤–æ–∏ "—É–ª–∏—Ü—ã" (—Å–µ—Ç–∏) –≤ –≥–æ—Ä–æ–¥–µ.
  my_test_network: # –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ –∂–µ –∏–º—è, —á—Ç–æ –∏ –≤—ã—à–µ, —á—Ç–æ–±—ã –≤—Å–µ –±—ã–ª–∏ –Ω–∞ –æ–¥–Ω–æ–π —É–ª–∏—Ü–µ!
    driver: bridge
    # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–∏–ø —Å–µ—Ç–∏. –≠—Ç–æ –∫–∞–∫ —Ç–≤–æ–π –ª–∏—á–Ω—ã–π –º–æ—Å—Ç, —Å–æ–µ–¥–∏–Ω—è—é—â–∏–π –¥–æ–º–∏–∫–∏ –≤–Ω—É—Ç—Ä–∏ Docker. üåâ
    ipam:
    # –ü–ª–∞–Ω –Ω—É–º–µ—Ä–∞—Ü–∏–∏ –¥–æ–º–æ–≤ –Ω–∞ —É–ª–∏—Ü–µ.
      config:
        - subnet: 172.20.0.0/16
        # –î–∏–∞–ø–∞–∑–æ–Ω IP-–∞–¥—Ä–µ—Å–æ–≤ –¥–ª—è —ç—Ç–æ–π —Å–µ—Ç–∏. –í—Å–µ —Ç–≤–æ–∏ –¥–æ–º–∏–∫–∏ –ø–æ–ª—É—á–∞—Ç –∞–¥—Ä–µ—Å–∞ –æ—Ç—Å—é–¥–∞. üèòÔ∏è
```
**–í–∞–∂–Ω–æ:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (`s1`, `s2`, `s3` –∏ —Ç.–¥.):
* **–ò–º—è —Å–µ—Ä–≤–∏—Å–∞ (`s1`, `s2`, `s3`):** –ú–æ–∂–µ—à—å –º–µ–Ω—è—Ç—å –Ω–∞ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `my_server_1`, `test_machine_a`. –ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã –æ–Ω–æ –±—ã–ª–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –≤ —Ä–∞–º–∫–∞—Ö `docker-compose.yml`.
* **`container_name`:** –¢–æ–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, `ubuntu_proxy_s1`.
* **`ports`:** –ü–µ—Ä–≤—ã–π –Ω–æ–º–µ—Ä –ø–æ—Ä—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2221`) ‚Äî —ç—Ç–æ –ø–æ—Ä—Ç –Ω–∞ —Ç–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –±—É–¥–µ—à—å –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ SSH –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –û–Ω **–î–û–õ–ñ–ï–ù –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞!
* **`ipv4_address`:** IP-–∞–¥—Ä–µ—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ Docker-—Å–µ—Ç–∏. –û–Ω **–î–û–õ–ñ–ï–ù –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `subnet`, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —É–∫–∞–∑–∞–ª –Ω–∏–∂–µ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ `172.20.0.0/16`).
* **`environment` (–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏):** **–≠–¢–û –°–ê–ú–û–ï –í–ê–ñ–ù–û–ï!** –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ —Ç—ã –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑–∞—Ç—å **–°–í–û–ò –£–ù–ò–ö–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï SOCKS5-–ø—Ä–æ–∫—Å–∏** (`<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò_X>`, `<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò_X>`, `<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_X>`). –ï—Å–ª–∏ —É —Ç–µ–±—è –ø—Ä–æ–∫—Å–∏ –±–µ–∑ –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è, –ø—Ä–æ—Å—Ç–æ —É–±–µ—Ä–∏ –∏—Ö –∏–∑ —Å—Ç—Ä–æ–∫–∏ `ALL_PROXY`.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª `docker-compose.yml` —Å–æ–∑–¥–∞–Ω –≤ –ø–∞–ø–∫–µ `docker_ubuntu_proxies` –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ç–≤–æ–µ–π –∞—Ä–º–∏–∏ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–≤.

---

## –†–∞–∑–¥–µ–ª 3: –ó–∞–ø—É—Å–∫–∞–µ–º –¢–≤–æ—é –ê—Ä–º–∏—é –°–µ—Ä–≤–µ—Ä–æ–≤! üöÄ

–í—Å–µ —Ñ–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã, –±—Ä–∞—Ç–∏—à–∫–∞! –¢–µ–ø–µ—Ä—å —Ç—ã –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π –∫–æ–º–∞–Ω–¥—É—é—â–∏–π –∞—Ä–º–∏–µ–π, –≥–æ—Ç–æ–≤—ã–π –æ—Ç–¥–∞—Ç—å –ø—Ä–∏–∫–∞–∑ –∫ —Å—Ç–∞—Ä—Ç—É! üí™

### –®–∞–≥ 3.1: –û—Ç–∫—Ä–æ–π –¢–µ—Ä–º–∏–Ω–∞–ª –∏ –ü–µ—Ä–µ–π–¥–∏ –≤ –ü–∞–ø–∫—É –ü—Ä–æ–µ–∫—Ç–∞

–ù–∞ —Å–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (–ø–æ–¥ Windows —ç—Ç–æ PowerShell, CMD –∏–ª–∏ Git Bash, –ø–æ–¥ macOS/Linux ‚Äî –ø—Ä–æ—Å—Ç–æ –¢–µ—Ä–º–∏–Ω–∞–ª) –ø–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É `docker_ubuntu_proxies`, –≥–¥–µ —É —Ç–µ–±—è –ª–µ–∂–∞—Ç `Dockerfile`, `start.sh` –∏ `docker-compose.yml`. –≠—Ç–æ –≤–∞–∂–Ω–æ! –¢—ã –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ.

```bash
# –ü—Ä–∏–º–µ—Ä, –∫–∞–∫ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É:
cd C:\Users\–¢–≤–æ—ë–ò–º—è\docker_ubuntu_proxies # –î–ª—è Windows
# –∏–ª–∏, –µ—Å–ª–∏ –Ω–∞ Mac/Linux:
cd ~/Documents/docker_ubuntu_proxies # –ü—Ä–∏–º–µ—Ä –¥–ª—è Mac/Linux
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–≤–æ–π –¢–µ—Ä–º–∏–Ω–∞–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `docker_ubuntu_proxies`.

### –®–∞–≥ 3.2: –£–±–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ "–∑–æ–º–±–∏"-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑ (—á–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç)

–ï—Å–ª–∏ —Ç—ã —É–∂–µ –∑–∞–ø—É—Å–∫–∞–ª —á—Ç–æ-—Ç–æ –¥–æ —ç—Ç–æ–≥–æ, –∏–ª–∏ –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–≤–∏—Å–ª–∏, –ª—É—á—à–µ –Ω–∞—á–∞—Ç—å —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞. –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ç—ã —É–¥–∞–ª–∏—à—å –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—ã –∏ —Ç–æ–º–∞, –∞ –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Å–æ–±–µ—Ä—ë—à—å –æ–±—Ä–∞–∑ —Å —Å–∞–º—ã–º–∏ —Å–≤–µ–∂–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏.

```bash
docker-compose down --volumes --rmi all
docker build --no-cache -t my-ubuntu-ssh-server .
```
* `docker-compose down --volumes --rmi all`: –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏ —É–¥–∞–ª—è–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ `docker-compose.yml`, –∞ —Ç–∞–∫–∂–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º–∏ —Ç–æ–º–∞ –∏ –æ–±—Ä–∞–∑—ã. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —á–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç.
* `docker build --no-cache -t my-ubuntu-ssh-server .`: –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç —Ç–≤–æ–π Docker-–æ–±—Ä–∞–∑ `my-ubuntu-ssh-server` —Å –Ω—É–ª—è, –∏–≥–Ω–æ—Ä–∏—Ä—É—è –∫—ç—à. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `Dockerfile` –∏ `start.sh` –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ—Ä–º–∏–Ω–∞–ª –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ Docker, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ç–æ–º—É, —á—Ç–æ —Ç—ã –≤–∏–¥–µ–ª –≤ –®–∞–≥–µ 2.4. –í –∫–æ–Ω—Ü–µ –±—É–¥–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—Ä–∞–∑–∞.

### –®–∞–≥ 3.3: –ó–∞–ø—É—Å—Ç–∏ —Å–≤–æ—é –∞—Ä–º–∏—é!

–ö–æ–≥–¥–∞ –æ–±—Ä–∞–∑ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω, –∑–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```bash
docker-compose up -d
```
* `docker-compose up`: –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ `docker-compose.yml`.
* `-d` (detach): –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, —á—Ç–æ–±—ã –¢–µ—Ä–º–∏–Ω–∞–ª –æ—Å—Ç–∞–ª—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–º –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–∞–Ω–¥.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Docker Compose –ø–æ–∫–∞–∂–µ—Ç, –∫–∞–∫ –æ–Ω —Å–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–≤–æ–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã. –¢—ã —É–≤–∏–¥–∏—à—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Ç–∏, –∑–∞—Ç–µ–º –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ –∑–∞–ø—É—Å–∫–µ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: `Creating ubuntu_proxy_s1 ... done`. –ï—Å–ª–∏ –≤—Å—ë —É—Å–ø–µ—à–Ω–æ, –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –≤–µ—Ä–Ω–µ—Ç—Å—è, –∏ —Ç—ã —Å–º–æ–∂–µ—à—å –≤–≤–æ–¥–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã.

---

## –†–∞–∑–¥–µ–ª 4: –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –¢–≤–æ–∏–º –î–æ–º–∏–∫–∞–º! üïµÔ∏è‚Äç‚ôÇÔ∏è

–¢–≤–æ–∏ –¥–æ–º–∏–∫–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã! –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –Ω–∞–¥–æ, –∏ —Ç—ã —Å–º–æ–∂–µ—à—å –∫ –Ω–∏–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è.

### –®–∞–≥ 4.1: –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å–µ "–¥–æ–º–∏–∫–∏" –∂–∏–≤—ã

–ù–∞ —Å–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (–≤ –¢–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ —Ç—ã –∑–∞–ø—É—Å–∫–∞–ª Docker Compose) –Ω–∞–±–µ—Ä–∏:

```bash
docker ps
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—ã —É–≤–∏–¥–∏—à—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç–≤–æ–∏ `ubuntu_proxy_s1`, `ubuntu_proxy_s2`, `ubuntu_proxy_s3` (–∏–ª–∏ –∫–∞–∫ —Ç—ã –∏—Ö –Ω–∞–∑–≤–∞–ª –≤ `docker-compose.yml`) –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ `Up` (—Ä–∞–±–æ—Ç–∞—é—Ç), –Ω–∞–ø—Ä–∏–º–µ—Ä:
```
CONTAINER ID   IMAGE                 COMMAND                  CREATED         STATUS         PORTS                     NAMES
a1b2c3d4e5f6   my-ubuntu-ssh-server  "/usr/local/bin/star‚Ä¶"   5 seconds ago   Up 4 seconds   0.0.0.0:2221->22/tcp      ubuntu_proxy_s1
f6e5d4c3b2a1   my-ubuntu-ssh-server  "/usr/local/bin/star‚Ä¶"   5 seconds ago   Up 4 seconds   0.0.0.0:2222->22/tcp      ubuntu_proxy_s2
c1d2e3f4a5b6   my-ubuntu-ssh-server  "/usr/local/bin/star‚Ä¶"   5 seconds ago   Up 4 seconds   0.0.0.0:2223->22/tcp      ubuntu_proxy_s3
```
–≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —Ç–≤–æ–∏ –¥–æ–º–∏–∫–∏ –ø–æ–¥–Ω—è—Ç—ã –∏ –∂–¥—É—Ç –∫–æ–º–∞–Ω–¥! ‚úÖ

### –®–∞–≥ 4.2: –°–º–æ—Ç—Ä–∏–º, —á—Ç–æ "–≥–æ–≤–æ—Ä—è—Ç" —Ç–≤–æ–∏ –¥–æ–º–∏–∫–∏ (–ª–æ–≥–∏)

–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `proxychains` –∏ SSH-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –æ–¥–Ω–æ–≥–æ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–π –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä–æ–µ —Ç—ã –≤–∏–¥–∏—à—å –≤ –≤—ã–≤–æ–¥–µ `docker ps`:

```bash
docker logs ubuntu_proxy_s1 # –ó–∞–º–µ–Ω–∏ ubuntu_proxy_s1 –Ω–∞ –∏–º—è —Å–≤–æ–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—ã —É–≤–∏–¥–∏—à—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π. –ò—â–∏ —Å—Ç—Ä–æ–∫–∏ –≤—Ä–æ–¥–µ `INFO: libproxychains.so path found at ... LD_PRELOAD –∏ PROXYCHAINS_CONF —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã.` –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ IP –æ—Ç `curl ifconfig.me`, –∫–æ—Ç–æ—Ä–æ–µ **–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å IP —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–∫—Å–∏**, –∞ –Ω–µ —Ç–≤–æ–π –¥–æ–º–∞—à–Ω–∏–π IP. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

### –®–∞–≥ 4.3: –ó–∞—Ö–æ–¥–∏–º –≤ –¥–æ–º–∏–∫ –ø–æ SSH (—Ç–≤–æ–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –≤—Ö–æ–¥!)

–¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–∞–∂–¥–æ–º—É –º–∏–Ω–∏-—Å–µ—Ä–≤–µ—Ä—É Ubuntu –ø–æ SSH —Å–æ —Å–≤–æ–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞. –ú—ã –ø—Ä–æ–±—Ä–æ—Å–∏–ª–∏ –ø–æ—Ä—Ç—ã: `2221` –¥–ª—è `s1`, `2222` –¥–ª—è `s2` –∏ `2223` –¥–ª—è `s3`.

–û—Ç–∫—Ä–æ–π **–ù–û–í–´–ô –¢–µ—Ä–º–∏–Ω–∞–ª** –Ω–∞ —Å–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –∏ –≤–≤–µ–¥–∏:

```bash
ssh root@localhost -p 2221 # –î–ª—è –ø–µ—Ä–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (s1)
# –∏–ª–∏
ssh root@localhost -p 2222 # –î–ª—è –≤—Ç–æ—Ä–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (s2)
# –∏–ª–∏
ssh root@localhost -p 2223 # –î–ª—è —Ç—Ä–µ—Ç—å–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (s3)
```
* –¢–µ–±—è –ø–æ–ø—Ä–æ—Å—è—Ç –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å. –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ—Ç **–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨**, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —É–∫–∞–∑—ã–≤–∞–ª –≤ `Dockerfile`!
* **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è —Ç—ã —É—Å–ø–µ—à–Ω–æ –≤–æ–π–¥–µ—à—å –≤ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤–Ω—É—Ç—Ä–∏ —Å–≤–æ–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Ubuntu! –¢—ã —É–≤–∏–¥–∏—à—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ `root@<ID_–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞>:/#`.

### –®–∞–≥ 4.4: –ü—Ä–æ–≤–µ—Ä—è–µ–º IP –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π —Ç–µ—Å—Ç!)

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —Ç—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ SSH, –≤—ã–ø–æ–ª–Ω–∏:

```bash
curl ifconfig.me
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è **IP-–∞–¥—Ä–µ—Å —Ç–≤–æ–µ–≥–æ SOCKS5-–ø—Ä–æ–∫—Å–∏** (`<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_1>`, `<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_2>` –∏–ª–∏ `<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_3>`), –∞ –Ω–µ —Ç–≤–æ–π –¥–æ–º–∞—à–Ω–∏–π IP. –¢–∞–∫–∂–µ —Ç—ã —É–≤–∏–¥–∏—à—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è `|S-chain|`, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–µ —Ä–∞–±–æ—Ç—É `proxychains`. –≠—Ç–æ –¥–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≤–µ—Å—å –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–¥—ë—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏! –ú–∏—Å—Å–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞! üèÜ

---

## –†–∞–∑–¥–µ–ª 5: –ö–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ (–°–æ–≤–µ—Ç—ã –ø–æ –≤—ã–∂–∏–≤–∞–Ω–∏—é) üò±

–ò–Ω–æ–≥–¥–∞ –±—ã–≤–∞—é—Ç –∑–∞—Ç—ã–∫–∏, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –í–æ—Ç –∫–∞–∫ —Ä–∞—Å–ø—É—Ç–∞—Ç—å –∫–ª—É–±–æ–∫ –ø—Ä–æ–±–ª–µ–º:

### –®–∞–≥ 5.1: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º —Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏!

```bash
docker logs <–ò–ú–Ø_–¢–í–û–ï–ì–û_–ö–û–ù–¢–ï–ô–ù–ï–†–ê>
```
–≠—Ç–æ –∫–∞–∫ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —É –¥–æ–º–∏–∫–∞, —á—Ç–æ —É –Ω–µ–≥–æ –±–æ–ª–∏—Ç. –ò—â–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö (ERROR, CRITICAL) –∏–ª–∏ –Ω–µ–æ–±—ã—á–Ω—ã–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

### –®–∞–≥ 5.2: –ó–∞–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (–æ—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ä–µ–∂–∏–º!)

–ï—Å–ª–∏ —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ SSH, –∏–ª–∏ —Ö–æ—á–µ—à—å –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω—É—Ç—Ä–∏, –º–æ–∂–Ω–æ –∑–∞–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞–ø—Ä—è–º—É—é:

```bash
docker exec -it <–ò–ú–Ø_–¢–í–û–ï–ì–û_–ö–û–ù–¢–ï–ô–ù–ï–†–ê> bash
```
* `docker exec`: –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤–Ω—É—Ç—Ä–∏ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
* `-it`: –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ–±–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º (–∫–∞–∫ –±—É–¥—Ç–æ —Ç—ã —Å–∏–¥–∏—à—å –ø–µ—Ä–µ–¥ –Ω–∏–º).
* `<–ò–ú–Ø_–¢–í–û–ï–ì–û_–ö–û–ù–¢–ï–ô–ù–ï–†–ê>`: –ù–∞–ø—Ä–∏–º–µ—Ä, `ubuntu_proxy_s1`.
* `bash`: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–±–æ–ª–æ—á–∫—É `bash` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
* **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—ã –æ–∫–∞–∂–µ—à—å—Å—è –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
* **–í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** —Ç—ã –º–æ–∂–µ—à—å –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã Linux, –Ω–∞–ø—Ä–∏–º–µ—Ä:
    * `cat /etc/proxychains.conf`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω proxychains. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –≤–µ—Ä–Ω—ã.
    * `curl ifconfig.me`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π IP.
    * `ping google.com`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ç–∏.
    * `dpkg -L proxychains`: –£–∑–Ω–∞—Ç—å, –∫—É–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã –ø–∞–∫–µ—Ç–∞ `proxychains`.
    * `find / -name "libproxychains.so*"`: –ù–∞–π—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `libproxychains.so.3` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é.

### –®–∞–≥ 5.3: –û—à–∏–±–∫–∞ `libproxychains.so not found!` –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å `LD_PRELOAD`

–ï—Å–ª–∏ –≤ –ª–æ–≥–∞—Ö `docker logs` –∏–ª–∏ –ø—Ä–∏ –≤—Ö–æ–¥–µ –ø–æ SSH –≤—ã –≤–∏–¥–∏—Ç–µ:
`CRITICAL ERROR: libproxychains.so path is empty! Automatic proxying via LD_PRELOAD will NOT work.`
–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç `start.sh` –Ω–µ —Å–º–æ–≥ –Ω–∞–π—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `libproxychains.so`. –•–æ—Ç—è –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–º `start.sh` –ø–æ–∏—Å–∫ –ø—É—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω, –≤–æ—Ç –∫–∞–∫ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É—é:
* –ó–∞–π–¥–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ (`docker exec -it <container_name> bash`).
* –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏:
    ```bash
    dpkg -L proxychains
    find / -name "libproxychains.so*" 2>/dev/null
    ```
* –ï—Å–ª–∏ –≤—ã –Ω–∞–π–¥–µ—Ç–µ –ø—É—Ç—å, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–∂–∏–¥–∞–µ–º–æ–≥–æ `/usr/lib/x86_64-linux-gnu/libproxychains.so.3`, –∏–ª–∏ –µ—Å–ª–∏ —Ñ–∞–π–ª –≤–æ–æ–±—â–µ –Ω–µ –Ω–∞–π–¥–µ–Ω, —ç—Ç–æ –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–±–ª–µ–º—É —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π `proxychains` –∏–ª–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –æ–±—Ä–∞–∑–∞. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ (`docker build --no-cache ...`) –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `apt install -y proxychains` –≤ `Dockerfile` –ø—Ä–æ—à—ë–ª –±–µ–∑ –æ—à–∏–±–æ–∫.

### –®–∞–≥ 5.4: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è (`restarting`)

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ "–ø–∞–¥–∞–µ—Ç" –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (—Å—Ç–∞—Ç—É—Å `restarting` –≤ `docker ps`), —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ (`sshd`) –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è.
* **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** (`docker logs <–ò–ú–Ø_–ö–û–ù–¢–ï–ô–ù–ï–†–ê>`). –í —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ –ª–æ–≥–æ–≤ –±—É–¥–µ—Ç –ø—Ä–∏—á–∏–Ω–∞ –ø–∞–¥–µ–Ω–∏—è.
* **–£–±–µ–¥–∏—Å—å, —á—Ç–æ SSH-–∫–ª—é—á–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è**: –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å—Ç—Ä–æ–∫–∞ `ssh-keygen -A` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `start.sh` –∏ –Ω–µ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞. –≠—Ç–æ —á–∞—Å—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç.
* **–ü—Ä–æ–≤–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `sshd_config`**: –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Å—Ç—Ä–æ–∫–∏ `PermitRootLogin yes` –∏ `PasswordAuthentication yes` –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –∞ `UsePAM yes` –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ `UsePAM no` –≤ `Dockerfile`, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —ç—Ç–æ–º –≥–∞–π–¥–µ.

---

## –†–∞–∑–¥–µ–ª 6: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä—ã –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã üîß

–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –≤–∞—à–∏ —Å–µ—Ä–≤–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ø—Ä–æ–∫—Å–∏! –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –∏—Ö –µ—â–µ –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –≠—Ç–∏ —à–∞–≥–∏ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å *–≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞*, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### –®–∞–≥ 6.1: –ó–∞—Ö–æ–¥–∏–º –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–°–Ω–∞—á–∞–ª–∞ –≤–∞–º –Ω—É–∂–Ω–æ –ø–æ–ø–∞—Å—Ç—å –≤ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –Ω—É–∂–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –í—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:
* **–ß–µ—Ä–µ–∑ SSH:**
    ```bash
    ssh root@localhost -p 2221 # –î–ª—è s1, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 2222 –¥–ª—è s2, 2223 –¥–ª—è s3
    ```
    –í–≤–µ–¥–∏—Ç–µ –≤–∞—à **–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨**.
* **–ß–µ—Ä–µ–∑ `docker exec` (–µ—Å–ª–∏ SSH –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ—Ç–ª–∞–¥–∫–∏):**
    ```bash
    docker exec -it ubuntu_proxy_s1 bash # –î–ª—è ubuntu_proxy_s1, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ubuntu_proxy_s2, ubuntu_proxy_s3
    ```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### –®–∞–≥ 6.2: –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É (—ç—Ç–æ –≤–∞–∂–Ω–æ!)

–í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –∏ —Å–∞–º–æ–π —Å–∏—Å—Ç–µ–º—ã, —á—Ç–æ–±—ã —É –≤–∞—Å –±—ã–ª–∏ —Å–≤–µ–∂–∏–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

```bash
apt update && apt upgrade -y
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π. –í –∫–æ–Ω—Ü–µ —Ç—ã —É–≤–∏–¥–∏—à—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

### –®–∞–≥ 6.3: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–ª–µ–∑–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

–≠—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å–¥–µ–ª–∞—é—Ç —Ä–∞–±–æ—Ç—É –≤ –∫–æ–Ω—Å–æ–ª–∏ –Ω–∞–º–Ω–æ–≥–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–µ–µ:
* `htop`: –ö—Ä–∞—Å–∏–≤—ã–π "–¥–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á" –¥–ª—è Linux, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤.
* `mc` (Midnight Commander): –§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –≤ –∫–æ–Ω—Å–æ–ª–∏, –æ—á–µ–Ω—å —É–¥–æ–±–Ω—ã–π –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ —Ñ–∞–π–ª–∞–º –∏ –ø–∞–ø–∫–∞–º.
* `nano`: –ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–≥–∫–æ –æ—Å–≤–æ–∏—Ç—å.

```bash
apt install -y htop mc nano
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Ç–∏–ª–∏—Ç—ã –±—É–¥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã. –¢—ã –º–æ–∂–µ—à—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Ö —Ä–∞–±–æ—Ç—É, –Ω–∞–±—Ä–∞–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, `htop` –∏–ª–∏ `mc`.

### –®–∞–≥ 6.4: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å, —á—Ç–æ–±—ã –ª–æ–≥–∏ –∏ –≤—Ä–µ–º—è –≤ —Ñ–∞–π–ª–∞—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –≤–∞—à–µ–º—É –≤—Ä–µ–º–µ–Ω–∏. –î–ª—è –ù–∏–¥–µ—Ä–ª–∞–Ω–¥–æ–≤ —ç—Ç–æ `Europe/Amsterdam`.

```bash
timedatectl set-timezone Europe/Amsterdam
```
–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
```bash
timedatectl
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–º–∞–Ω–¥–∞ `timedatectl` –ø–æ–∫–∞–∂–µ—Ç –Ω–æ–≤—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä: `Time zone: Europe/Amsterdam`.

### –®–∞–≥ 6.5: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä UFW (–æ—Å–Ω–æ–≤–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)

–ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä Uncomplicated Firewall (UFW) –ø—Ä–æ—Å—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –ø–æ–º–æ–∂–µ—Ç –∑–∞—â–∏—Ç–∏—Ç—å –≤–∞—à –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Ç –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π.
* –†–∞–∑—Ä–µ—à–∞–µ–º –≤—Ö–æ–¥—è—â–∏–µ SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–ø–æ—Ä—Ç 22):
    ```bash
    ufw allow ssh
    ```
* –†–∞–∑—Ä–µ—à–∞–µ–º –≤—Ö–æ–¥—è—â–∏–µ SOCKS5-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–ø–æ—Ä—Ç 1080). –•–æ—Ç—è —Ç—Ä–∞—Ñ–∏–∫ –∏–¥–µ—Ç —á–µ—Ä–µ–∑ `proxychains`, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —è–≤–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞ 1080 –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏–ª–∏ –µ—Å–ª–∏ –≤—ã –∑–∞—Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π SOCKS-—Å–µ—Ä–≤–µ—Ä –ø–æ–∑–∂–µ.
    ```bash
    ufw allow 1080/tcp
    ```
* –í–∫–ª—é—á–∞–µ–º –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä. –°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, –≤–≤–µ–¥–∏—Ç–µ `y` –∏ –Ω–∞–∂–º–∏—Ç–µ Enter:
    ```bash
    ufw enable
    ```
* –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞:
    ```bash
    ufw status
    ```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `ufw status` –ø–æ–∫–∞–∂–µ—Ç, —á—Ç–æ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä –∞–∫—Ç–∏–≤–µ–Ω (`Status: active`) –∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (`22/tcp ALLOW Anywhere`).

### –®–∞–≥ 6.6: –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —É–¥–æ–±–Ω–æ)

–†–∞–±–æ—Ç–∞—Ç—å –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º `root` –ø–æ—Å—Ç–æ—è–Ω–Ω–æ ‚Äî –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sudo` (–¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –æ—Ç –∏–º–µ–Ω–∏ `root`, –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ).

```bash
adduser <–ù–û–í–û–ï_–ò–ú–Ø_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø>
```
–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º: –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å, –∑–∞—Ç–µ–º –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∏–º–∞–π—Ç–µ Enter –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –≤–∞–∂–Ω—ã.

–¢–µ–ø–µ—Ä—å –¥–∞–π—Ç–µ –Ω–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∞–≤–∞ `sudo` (—ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –µ–º—É –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã):
```bash
usermod -aG sudo <–ù–û–í–û–ï_–ò–ú–Ø_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø>
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É `sudo`. –¢—ã –º–æ–∂–µ—à—å –≤—ã–π—Ç–∏ –∏–∑ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ `root` (`exit`) –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É —É–∂–µ –ø–æ–¥ –Ω–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:

```bash
ssh <–ù–û–í–û–ï_–ò–ú–Ø_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø>@localhost -p 2221 # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à –ø–æ—Ä—Ç
```
–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sudo` –ø–µ—Ä–µ–¥ –∫–æ–º–∞–Ω–¥–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `sudo apt update`).

### –®–∞–≥ 6.7: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (Message of the Day - MOTD)

–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH. –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

```bash
echo "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –≤–∞—à –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä Ubuntu!" | sudo tee /etc/motd
echo "" | sudo tee -a /etc/motd # –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
echo "–í–∞—à –≤–Ω–µ—à–Ω–∏–π IP —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏: $(curl -s ifconfig.me)" | sudo tee -a /etc/motd
echo "–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∫—Å–∏: socks5://<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò>:<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò>@<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò>:1080" | sudo tee -a /etc/motd
```
* **–í–ù–ò–ú–ê–ù–ò–ï:** –ó–∞–º–µ–Ω–∏—Ç–µ `<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò>`, `<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò>` –∏ `<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò>` –Ω–∞ **—Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞!** –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–æ–≥–æ, –∫ –∫–∞–∫–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –≤—ã –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å (`s1`, `s2` –∏–ª–∏ `s3`)! –¢—ã –º–æ–∂–µ—à—å –Ω–∞–π—Ç–∏ –∏—Ö –≤ `docker-compose.yml` –∏–ª–∏ –≤ —Ñ–∞–π–ª–µ `proxychains.conf` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (`cat /etc/proxychains.conf`).
–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç MOTD:
```bash
cat /etc/motd
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —Ç—ã —É–≤–∏–¥–∏—à—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤–Ω–µ—à–Ω–µ–º IP –∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏.

### –®–∞–≥ 6.8: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º SSH-—Å–µ—Ä–≤–µ—Ä (–¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π)

–ß—Ç–æ–±—ã –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ SSH (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MOTD) –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ SSH-–¥–µ–º–æ–Ω:

```bash
sudo service sshd restart
```
–∏–ª–∏
```bash
sudo systemctl restart sshd
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** SSH-—Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è. –ï—Å–ª–∏ —Ç—ã –±—ã–ª –ø–æ–¥–∫–ª—é—á–µ–Ω –ø–æ SSH, —Ç–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–µ—Ä–≤—ë—Ç—Å—è, –∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∑–∞–Ω–æ–≤–æ.

–¢–µ–ø–µ—Ä—å –≤–∞—à–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ø—Ä–æ–∫—Å–∏, –Ω–æ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã!

---

## –†–∞–∑–¥–µ–ª 7: –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –¥–ª—è —Å—É–ø–µ—Ä–≥–µ—Ä–æ—è Docker! üí°

–•–æ—á–µ—à—å —Å—Ç–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–º –º–∞—Å—Ç–µ—Ä–æ–º Docker? –í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—Ä—É—Ç—ã—Ö —Ñ–∏—à–µ–∫:

1.  **–ù–µ —Å—Ç–µ—Å–Ω—è–π—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Google –∏ Stack Overflow! üß†**
    Docker ‚Äî —ç—Ç–æ —Ü–µ–ª–∞—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è, –∏ –Ω–∏–∫—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç –µ—ë –Ω–∞–∏–∑—É—Å—Ç—å. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —Ç–æ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –∫—Ç–æ-—Ç–æ —É–∂–µ —Å—Ç–∞–ª–∫–∏–≤–∞–ª—Å—è —Å —Ç–∞–∫–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π –∏ –Ω–∞ Stack Overflow –µ—Å—Ç—å –µ—ë —Ä–µ—à–µ–Ω–∏–µ.
    * **–ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏—à—å:** –†–µ—à–µ–Ω–∏—è 99% –ø—Ä–æ–±–ª–µ–º –≤ Docker! ü§©

2.  **–ò—Å–ø–æ–ª—å–∑—É–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã Docker Hub! üìö**
    [Docker Hub](https://hub.docker.com/) ‚Äî —ç—Ç–æ –æ–≥—Ä–æ–º–Ω—ã–π –æ–Ω–ª–∞–π–Ω-–º–∞–≥–∞–∑–∏–Ω, –≥–¥–µ –µ—Å—Ç—å —Ç—ã—Å—è—á–∏ —É–∂–µ –≥–æ—Ç–æ–≤—ã—Ö "–¥–æ–º–∏–∫–æ–≤"-–æ–±—Ä–∞–∑–æ–≤ –¥–ª—è –≤—Å–µ–≥–æ –Ω–∞ —Å–≤–µ—Ç–µ!
    * **–ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏—à—å:** –≠–∫–æ–Ω–æ–º–∏—é –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ç—ã—Å—è—á–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, —Å–¥–µ–ª–∞–Ω–Ω—ã—Ö –¥—Ä—É–≥–∏–º–∏ –∫—Ä—É—Ç—ã–º–∏ —á—É–≤–∞–∫–∞–º–∏! ‚úÖ

3.  **–•—Ä–∞–Ω–∏ —Å–≤–æ–∏ "—Ä–µ—Ü–µ–ø—Ç—ã" –∏ "–ø–ª–∞–Ω—ã" –≤ "–∫–æ—Ä–æ–±–∫–µ —Å–æ–∫—Ä–æ–≤–∏—â" (Git) üóùÔ∏è**
    –≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π, –∫–∞–∫ —Å—É–ø–µ—Ä-–∏—Å—Ç–æ—Ä–∏—è —Ç–≤–æ–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
    * **–ß—Ç–æ —ç—Ç–æ?** Git ‚Äî —ç—Ç–æ –∫–∞–∫ –≤–æ–ª—à–µ–±–Ω–∞—è –∫–æ—Ä–æ–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –≤—Å–µ-–≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–≤–æ–∏—Ö —Ñ–∞–π–ª–∞—Ö (`Dockerfile`, `docker-compose.yml`, `start.sh`).
    * –û–Ω–∏ —Å–ø–∞—Å—É—Ç —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—Ç–µ—Ä—è–µ—à—å, –∏ –ø–æ–º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–º–∞–Ω–¥–æ–π (–µ—Å–ª–∏ —Ç—ã —Å—Ç–∞–Ω–µ—à—å —Ç–∏–º–ª–∏–¥–æ–º, –∫–æ–Ω–µ—á–Ω–æ! üòâ).
    * **–ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏—à—å:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

4.  **–ü—Ä–∏–¥—É–º—ã–≤–∞–π —Ä–µ–∞–ª—å–Ω–æ —É–≥–∞—Ä–Ω—ã–µ –∏–º–µ–Ω–∞ –¥–ª—è —Å–≤–æ–∏—Ö –¥–æ–º–∏–∫–æ–≤-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤! ü§£**
    –≠—Ç–æ –ø–æ–¥–Ω–∏–º–µ—Ç —Ç–µ–±–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ –ø–æ–º–æ–∂–µ—Ç –ª–µ–≥–∫–æ –∏—Ö —Ä–∞–∑–ª–∏—á–∞—Ç—å! –í–º–µ—Å—Ç–æ `container_123` –Ω–∞–∑–æ–≤–∏ `spiderman_server` –∏–ª–∏ `super_secret_base`!
    * **–ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏—à—å:** –ü—Ä–∏—è—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –∏ –ª—ë–≥–∫—É—é –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é.

5.  **–ò—Å–ø–æ–ª—å–∑—É–π –∫—Ä–∞—Å–∏–≤–æ–µ –æ–∫–æ—à–∫–æ Docker Desktop (GUI) üñºÔ∏è**
    –≠—Ç–æ –∫–∞–∫ –∫–∞—Ä—Ç–∞ —Ç–≤–æ–µ–≥–æ –≥–æ—Ä–æ–¥–∞ Docker, –≥–¥–µ —Ç—ã –º–æ–∂–µ—à—å –≤–∏–¥–µ—Ç—å –≤—Å–µ —Å–≤–æ–∏ –¥–æ–º–∏–∫–∏, —á—Ç–æ –æ–Ω–∏ "–≥–æ–≤–æ—Ä—è—Ç" (–ª–æ–≥–∏) –∏ —Å–∫–æ–ª—å–∫–æ "—Å–∏–ª" (—Ä–µ—Å—É—Ä—Å–æ–≤) –æ–Ω–∏ —Ç—Ä–∞—Ç—è—Ç. –£–¥–æ–±–Ω–∞—è —à—Ç—É–∫–∞!
    * **–ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏—à—å:** –í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ —É–¥–æ–±—Å—Ç–≤–æ.

6.  **–£—á–∏—Å—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–µ—Ç—è–º–∏ Docker! üï∏Ô∏è**
    –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ–±—â–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –∏ —Å –≤–Ω–µ—à–Ω–∏–º –º–∏—Ä–æ–º, ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ —Å–ª–æ–∂–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–∞–º.
    * **–ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏—à—å:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ –º–Ω–æ–≥–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è! üè∞

–£–¥–∞—á–∏ —Ç–µ–±–µ –≤ —Ç–≤–æ–∏—Ö –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è—Ö —Å Docker! –¢—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è! üí™
