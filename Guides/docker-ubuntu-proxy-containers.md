# üöÄ –ë–û–ï–í–û–ô –£–°–¢–ê–í: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ê—Ä–º–∏–∏ –°–µ—Ä–≤–µ—Ä–æ–≤ Ubuntu —Å –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–º –ü—Ä–æ–∫—Å–∏ (–£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è) üöÄ

**–í–Ω–∏–º–∞–Ω–∏–µ, —Ç–æ–≤–∞—Ä–∏—â –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–∏–π!** üëã –ù–∞ —Å–≤—è–∑–∏ –≤–∞—à —à—Ç–∞–±–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫. –î–æ–∫–ª–∞–¥ –≥–æ—Ç–æ–≤! –í—ã –≥–æ—Ç–æ–≤—ã –ø–æ–∫–æ–Ω—á–∏—Ç—å —Å —Ö–∞–æ—Å–æ–º –≤ –≤–∞—à–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–∞–∂–¥—ã–º –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º? –ñ–µ–ª–∞–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–µ–ø—Ä–∏—Å—Ç—É–ø–Ω—É—é —Å–µ—Ç—å —Ñ–æ—Ä–ø–æ—Å—Ç–æ–≤ Ubuntu 22.04, –≥–¥–µ –∫–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–æ–ª–Ω–æ–π –∏–∑–æ–ª—è—Ü–∏–∏, –∏–º–µ—è –ø—Ä–∏ —ç—Ç–æ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏ (–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π SOCKS5/HTTP-–ø—Ä–æ–∫—Å–∏) –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (SSH)? –¢–æ–≥–¥–∞ –≤—ã –ø—Ä–∏–±—ã–ª–∏ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —à—Ç–∞–±! üòâ

### –ß—Ç–æ —Ç–∞–∫–æ–µ Docker, –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞—à –ª–∏—á–Ω—ã–π –±–æ–µ–≤–æ–π –±–æ–Ω—É—Å? üéÆ

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤–∞—à –≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä ‚Äî —ç—Ç–æ –æ–±—à–∏—Ä–Ω—ã–π –≥–∞—Ä–Ω–∏–∑–æ–Ω, –≥–¥–µ –ø—Ä–µ–∂–¥–µ –≤—Å–µ –≤–∞—à–∏ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è (–ø—Ä–æ–≥—Ä–∞–º–º—ã) —Ç–µ—Å–Ω–∏–ª–∏—Å—å –≤–º–µ—Å—Ç–µ, –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∫–æ–Ω–∫—É—Ä–∏—Ä—É—è –∑–∞ —Ä–µ—Å—É—Ä—Å—ã –∏ —Å–æ–∑–¥–∞–≤–∞—è –ø–æ–º–µ—Ö–∏ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è, –¥–∞? üôÑ).

–° Docker Desktop —Å–∏—Ç—É–∞—Ü–∏—è –º–µ–Ω—è–µ—Ç—Å—è –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ! –≠—Ç–æ –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π **"–±–æ–µ–≤–æ–π –±–æ–Ω—É—Å"**. –í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –æ–±—â–µ–≥–æ –≥–∞—Ä–Ω–∏–∑–æ–Ω–∞, –º—ã –≤—ã–¥–µ–ª—è–µ–º –∫–∞–∂–¥–æ–º—É –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ, —á–µ—Ç–∫–æ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ **"—É–∫—Ä—ã—Ç–∏–µ"** ‚Äî –∏–º–µ–Ω—É–µ–º–æ–µ **–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º** üì¶. –ó–∞–ø–æ–º–Ω–∏—Ç–µ, –∫–∞–∂–¥—ã–π —Ç–∞–∫–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî —ç—Ç–æ –≤–∞—à **–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∏–Ω–∏-—Å–µ—Ä–≤–µ—Ä Ubuntu 22.04!** –í–ø–µ—á–∞—Ç–ª—è–µ—Ç, –Ω–µ —Ç–∞–∫ –ª–∏? ü§©

–ò —á—Ç–æ —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ, —Ç–æ–≤–∞—Ä–∏—â –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–∏–π? –£ –Ω–∞—Å –µ—Å—Ç—å –≥–ª–∞–≤–Ω—ã–π —Å—Ç—Ä–∞—Ç–µ–≥ ‚Äî **Docker Compose** üé©. –û–Ω –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –≤–æ–∑–≤–æ–¥–∏—Ç—å —Ü–µ–ª—ã–µ "—Ä–∞–π–æ–Ω—ã" —Ç–∞–∫–∏—Ö —É–∫—Ä—ã—Ç–∏–π –∏ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –±–µ—Å–ø–µ—Ä–µ–±–æ–π–Ω–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–∞—à–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π! üöÄ

–ò—Ç–∞–∫, –ø—Ä–∏—Å—Ç–µ–≥–Ω–∏—Ç–µ —Ä–µ–º–Ω–∏! –ú—ã –Ω–∞—á–∏–Ω–∞–µ–º –Ω–∞—à—É —Ü–∏—Ñ—Ä–æ–≤—É—é –≤–æ–µ–Ω–Ω—É—é –∫–∞–º–ø–∞–Ω–∏—é! ‚ú®

---

## –†–∞–∑–¥–µ–ª 1: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ö–æ–º–∞–Ω–¥–Ω–æ–≥–æ –¶–µ–Ω—Ç—Ä–∞ (Docker Desktop) üõ†Ô∏è

–ü—Ä–µ–∂–¥–µ —á–µ–º –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—é –≤–∞—à–µ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –∞—Ä–º–∏–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å "–±–∞–∑—É" –Ω–∞ –≤–∞—à–µ–º –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ. –≠—Ç–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –ø–æ–ª–∏–≥–æ–Ω–∞ –ø–µ—Ä–µ–¥ —É—á–µ–Ω–∏—è–º–∏! üß±

### –®–∞–≥ 1.1: –ó–∞–≥—Ä—É–∑–∫–∞ –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ö–æ–º–ø–ª–µ–∫—Å–∞ Docker Desktop

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –ü–æ–ª—É—á–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

1.  **–î–ª—è —Å–∏—Å—Ç–µ–º –ø–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º Windows:**
    * –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ—Å—å –Ω–∞ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç–∞–ª Docker](https://www.docker.com/products/docker-desktop/) –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è Windows. –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–π–º–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è, –±—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ã –∫ –æ–∂–∏–¥–∞–Ω–∏—é. ‚è≥ –§–∞–π–ª –±—É–¥–µ—Ç –∏–º–µ—Ç—å –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ `Docker Desktop Installer.exe`.

2.  **–î–ª—è —Å–∏—Å—Ç–µ–º –ø–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º macOS:**
    * –ó–∞–≥—Ä—É–∑–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π –ø–∞–∫–µ—Ç —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞–ª–∞ Docker](https://www.docker.com/products/docker-desktop/) –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –≤–µ—Ä—Å–∏—é macOS. –í—ã –ø–æ–ª—É—á–∏—Ç–µ —Ñ–∞–π–ª —Ñ–æ—Ä–º–∞—Ç–∞ `.dmg`.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π –ø–∞–∫–µ—Ç Docker Desktop.

### –®–∞–≥ 1.2: –ò–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—è –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ö–æ–º–ø–ª–µ–∫—Å–∞ Docker Desktop

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –ü—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏—è.

1.  **–î–ª—è Windows:**
    * –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª `Docker Desktop Installer.exe`.
    * –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–∂–∏–º–∞–π—Ç–µ "–î–∞–ª–µ–µ" –∏–ª–∏ "Install" –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –æ–∫–Ω–∞ **"Configuration"** (–ù–∞—Å—Ç—Ä–æ–π–∫–∏).
    * **–û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ:**
        * **"Use WSL 2 instead of Hyper-V (recommended)"**: –≠—Ç–æ –≤–∞—à–∞ —Å–µ–∫—Ä–µ—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ ü§´ –≤–Ω—É—Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, –≥–¥–µ –±—É–¥—É—Ç —Ä–∞–∑–º–µ—â–µ–Ω—ã –≤–∞—à–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã. –ï—ë –∞–∫—Ç–∏–≤–∞—Ü–∏—è **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê ‚úÖ!** (WSL 2 ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ Linux, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—â–∞—è –≤–Ω—É—Ç—Ä–∏ Windows).
        * **"Allow Windows Containers to be used with this installation"**: –≠—Ç—É –æ–ø—Ü–∏—é **–ù–ï –ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨ ‚ùå**. –ù–∞–º —Ç—Ä–µ–±—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ Linux-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Ubuntu).
        * **"Add shortcut to desktop"**: –ü–æ –≤–∞—à–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é, –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–∫–æ–Ω–∫–µ Docker –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ. üñ•Ô∏è –≠—Ç–æ –æ–±–ª–µ–≥—á–∞–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ!
    * –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ "OK" –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏–∏.

2.  **–î–ª—è macOS:**
    * –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π `.dmg` —Ñ–∞–π–ª.
    * –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –∏–∫–æ–Ω–∫—É "Docker Desktop" –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é "Applications".
    * –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ "Applications". –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –∏—Ö.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Docker Desktop –±—É–¥–µ—Ç —É—Å–ø–µ—à–Ω–æ –∏–Ω—Å—Ç–∞–ª–ª–∏—Ä–æ–≤–∞–Ω –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.

### –®–∞–≥ 1.3: –ü–µ—Ä–≤–∏—á–Ω—ã–π –ó–∞–ø—É—Å–∫ –ö–æ–º–∞–Ω–¥–Ω–æ–≥–æ –¶–µ–Ω—Ç—Ä–∞ Docker Desktop

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥–Ω—ã–π —Ü–µ–Ω—Ç—Ä –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –µ–≥–æ –±–æ–µ–≤—É—é –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å.

* –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ Docker Desktop –º–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã–π —Ç—É—Ä –∏–ª–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ú–æ–∂–µ—Ç–µ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ, –Ω–∞–∂–∞–≤ **"Skip" (–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å)** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É, —á—Ç–æ–±—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –æ–ø–µ—Ä–∞—Ü–∏—è–º. üöÄ
* **–í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å:** –û—Ç–∫—Ä–æ–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ Docker Desktop.
* **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ –æ–∫–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å **"Engine running" (–î–≤–∏–∂–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç) üü¢**. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–∞—à –∫–æ–º–∞–Ω–¥–Ω—ã–π —Ü–µ–Ω—Ç—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–æ–µ–≥–æ—Ç–æ–≤. –ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –Ω–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ –æ–∫–Ω–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç –æ—Ç–¥–∞–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –¢–µ—Ä–º–∏–Ω–∞–ª.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Docker Desktop —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç, –æ—Ç–æ–±—Ä–∞–∂–∞—è —Å—Ç–∞—Ç—É—Å "Engine running".

### –®–∞–≥ 1.4: –ü—Ä–æ—Ç–æ–∫–æ–ª –î–µ–π—Å—Ç–≤–∏–π –ü—Ä–∏ –°–±–æ–µ –ó–∞–ø—É—Å–∫–∞ Docker Desktop üò±

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π –≤ —Å–ª—É—á–∞–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Å–≤—è–∑–∏ —Å –∫–æ–º–∞–Ω–¥–Ω—ã–º —Ü–µ–Ω—Ç—Ä–æ–º.

–í–æ–∑–º–æ–∂–Ω—ã –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞, –Ω–æ –ø–∞–Ω–∏–∫–∞ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–∞! –í–æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª:

1.  **–î–ª—è Windows (–∞–Ω–æ–º–∞–ª–∏–∏ —Å WSL 2):**
    * –û—Ç–∫—Ä–æ–π—Ç–µ "–ö–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É" –∏–ª–∏ PowerShell **—Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** (—ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ! üëë).
    * –í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: `wsl --set-default-version 2` –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–≤–æ–¥.
    * **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker —Å—Ä–µ–¥—ã WSL 2.
    * –ï—Å–ª–∏ WSL 2 –Ω–µ –∏–Ω—Å—Ç–∞–ª–ª–∏—Ä–æ–≤–∞–Ω, —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –µ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∫—É. –°–ª–µ–¥—É–π—Ç–µ —É–∫–∞–∑–∞–Ω–∏—è–º.
    * –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ –≤ BIOS/UEFI –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã. –≠—Ç–æ –±–∞–∑–æ–≤—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å, –±–µ–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∏ –æ–¥–Ω–æ –≤–∞—à–µ —Ü–∏—Ñ—Ä–æ–≤–æ–µ "—É–∫—Ä—ã—Ç–∏–µ" –Ω–µ —Å–º–æ–∂–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ "–∫–∞–∫ –≤–∫–ª—é—á–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ [–º–æ–¥–µ–ª—å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞]", –æ–±—ã—á–Ω–æ —ç—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã (–∫–ª–∞–≤–∏—à–∏ F2, F10, Del –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ).

2.  **–î–ª—è macOS (–∞–Ω–æ–º–∞–ª–∏–∏ —Å HyperKit):**
    * **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É Mac.** üîÑ –ó–∞—á–∞—Å—Ç—É—é, —ç—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –º–µ—Ä–∞ –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–Ω–æ–≥–∏—Ö –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π!
    * **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –í–æ–∑–º–æ–∂–Ω–æ, —Å–∏—Å—Ç–µ–º–∞ Mac –±–ª–æ–∫–∏—Ä—É–µ—Ç HyperKit. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏" -> "–ó–∞—â–∏—Ç–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" (–∏–ª–∏ "–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏" -> "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö macOS) –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ Docker Desktop –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –µ—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Docker Desktop —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "Engine running".

---

## –†–∞–∑–¥–µ–ª 2: –û–ø–µ—Ä–∞—Ü–∏—è –ø–æ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—é –í–∞—à–µ–π –ê—Ä–º–∏–∏ –°–µ—Ä–≤–µ—Ä–æ–≤ Ubuntu üèóÔ∏è

**–¢–æ–≤–∞—Ä–∏—â –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–∏–π!** –í—Ä–µ–º—è –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –æ–¥–∏–Ω–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏! –°–µ–≥–æ–¥–Ω—è –º—ã –ø—Ä–∏—Å—Ç—É–ø–∞–µ–º –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —Ü–µ–ª–æ–π —Å–µ—Ç–∏ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π Ubuntu 22.04. –ö–∞–∂–¥–æ–µ –∏–∑ –Ω–∏—Ö –±—É–¥–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ñ–æ—Ä–ø–æ—Å—Ç, –æ—Å–Ω–∞—â–µ–Ω–Ω—ã–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –ø—Ä–æ–∫—Å–∏-–∫–∞–Ω–∞–ª–æ–º –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (SSH). üåêüîí

–ù–∞—à –≥–ª–∞–≤–Ω—ã–π —Å—Ç—Ä–∞—Ç–µ–≥ **Docker Compose** üé© –æ–±–µ—Å–ø–µ—á–∏—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –≤—Å–µ–π —ç—Ç–æ–π —Å–ª–æ–∂–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏: –º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ —Ñ–æ—Ä–ø–æ—Å—Ç—ã, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –≤ –µ–¥–∏–Ω—É—é, —á–µ—Ç–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–µ—Ç—å.

### –®–∞–≥ 2.1: –°–æ–∑–¥–∞–Ω–∏–µ –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –ü–æ–ª–∏–≥–æ–Ω–∞

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –í—ã–¥–µ–ª–∏—Ç—å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—é.

–°–æ–∑–¥–∞–π—Ç–µ –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –Ω–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä, `docker_ubuntu_proxies`. –í—Å–µ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∏–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —Å–æ–∑–¥–∞–Ω–∞ –ø—É—Å—Ç–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `docker_ubuntu_proxies`.

### –®–∞–≥ 2.2: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –ó–∞–¥–∞–Ω–∏—è" –¥–ª—è –ù–∞—à–∏—Ö –§–æ—Ä–ø–æ—Å—Ç–æ–≤ (Dockerfile) üç∞

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –£—Ç–≤–µ—Ä–¥–∏—Ç—å –∏ –≤—ã–¥–∞—Ç—å —Ç–æ—á–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±—É–¥—É—â–µ–≥–æ —Ñ–æ—Ä–ø–æ—Å—Ç–∞.

–ü—Ä–µ–∂–¥–µ —á–µ–º –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É —Ñ–æ—Ä–ø–æ—Å—Ç–æ–≤-–º–∏–Ω–∏-—Å–µ—Ä–≤–µ—Ä–æ–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∏—Ö "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ". –≠—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç `Dockerfile`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Docker –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –æ–±—Ä–∞–∑–∞ (—à–∞–±–ª–æ–Ω–∞) –Ω–∞—à–∏—Ö —Ñ–æ—Ä–ø–æ—Å—Ç–æ–≤ –Ω–∞ –±–∞–∑–µ Ubuntu, —É—Å—Ç–∞–Ω–æ–≤–∫–µ SSH-—Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∏—Ö –∫ –∑–∞–ø—É—Å–∫—É –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ª—É–∂–±. –í—Å–µ –≤–∞—à–∏ —Ñ–æ—Ä–ø–æ—Å—Ç—ã –±—É–¥—É—Ç —Å–æ–±—Ä–∞–Ω—ã –≤ —Å—Ç—Ä–æ–≥–æ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —ç—Ç–∏–º –µ–¥–∏–Ω—ã–º –∑–∞–¥–∞–Ω–∏–µ–º.

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `Dockerfile` (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è!) –≤–Ω—É—Ç—Ä–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `docker_ubuntu_proxies` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:

```dockerfile
# =========================
# üìù –§–∞–π–ª: Dockerfile
# =========================

# –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑: –ú—ã –Ω–∞—á–∏–Ω–∞–µ–º —Å —á–∏—Å—Ç–æ–π Ubuntu 22.04
FROM ubuntu:22.04

# –û–±–Ω–æ–≤–ª—è–µ–º –ø–∞–∫–µ—Ç—ã –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã:
# openssh-server - –¥–ª—è SSH-–¥–æ—Å—Ç—É–ø–∞
# curl - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–Ω–µ—à–Ω–µ–≥–æ IP –∏ –¥—Ä—É–≥–∏—Ö —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
# net-tools, iproute2 - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç–µ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
# redsocks - –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –ø—Ä–æ–∫—Å–∏-—Ä–µ–¥–∏—Ä–µ–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫.
# sudo - –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏.
# supervisor - –°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ (SSH, Redsocks) –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ,
#              —Ç–∞–∫ –∫–∞–∫ systemd –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ PID 1.
# iptables-persistent - –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª iptables –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.
RUN apt update && \
    apt install -y openssh-server curl net-tools iproute2 redsocks sudo supervisor iptables-persistent && \
    # –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è SSH-–¥–µ–º–æ–Ω–∞
    mkdir -p /var/run/sshd && \
    # –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤ supervisor
    mkdir -p /var/log/supervisor

# üö® –í–ù–ò–ú–ê–ù–ò–ï: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root! üö®
# –ó–ê–ú–ï–ù–ò–¢–ï <–¢–í–û–ô_–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨> –Ω–∞ –°–í–û–ô –°–õ–û–ñ–ù–´–ô –ü–ê–†–û–õ–¨!
# –≠—Ç–æ –û–ß–ï–ù–¨ –í–ê–ñ–ù–û –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –ø–∞—Ä–æ–ª–∏!
RUN echo 'root:<–¢–í–û–ô_–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨>' | chpasswd

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º SSH-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.
# PermitRootLogin yes - —Ä–∞–∑—Ä–µ—à–∞–µ–º –≤—Ö–æ–¥ –ø–æ–¥ root (–¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –≤ —ç—Ç–æ–º –≥–∞–π–¥–µ,
# –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π).
# PasswordAuthentication yes - —Ä–∞–∑—Ä–µ—à–∞–µ–º –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é.
# –≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–ø—Ä–æ—â–∞—é—Ç —Ä–∞–±–æ—Ç—É, –Ω–æ –º–æ–≥—É—Ç —Å–Ω–∏–∑–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
# UsePAM no - –û—Ç–∫–ª—é—á–∞–µ–º PAM, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å TTY –≤ Docker.
# PrintMotd yes - –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è.
RUN sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config && \
    sed -i 's/#PasswordAuthentication yes/PasswordAuthentication yes/' /etc/ssh/sshd_config && \
    sed -i 's/UsePAM yes/UsePAM no/' /etc/ssh/sshd_config && \
    sed -i 's/^#*PrintMotd.*/PrintMotd yes/' /etc/ssh/sshd_config

# –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ä—Ç 22 –¥–ª—è SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
EXPOSE 22

# –ö–æ–ø–∏—Ä—É–µ–º –Ω–∞—à —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ (start.sh) –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é supervisor –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
# –∏ –¥–µ–ª–∞–µ–º –∏—Ö –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏.
COPY start.sh /usr/local/bin/start.sh
COPY supervisord.conf /etc/supervisor/conf.d/supervisord.conf
RUN chmod +x /usr/local/bin/start.sh

# –ò—Å–ø–æ–ª—å–∑—É–µ–º ENTRYPOINT –¥–ª—è –∑–∞–ø—É—Å–∫–∞ start.sh.
# –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞—Ç—å supervisor.
ENTRYPOINT ["/usr/local/bin/start.sh"]

# CMD –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. Supervisor –±—É–¥–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º.
CMD ["/usr/bin/supervisord", "-n", "-c", "/etc/supervisor/supervisord.conf"]
```
**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ó–ê–ú–ï–ù–ò–¢–ï `<–¢–í–û–ô_–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨>` –Ω–∞ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π, –û–ß–ï–ù–¨ –°–õ–û–ñ–ù–´–ô –ø–∞—Ä–æ–ª—å!** ‚ö†Ô∏è –≠—Ç–æ –≤–∞—à–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ! –ö–æ–¥ –¥–æ—Å—Ç—É–ø–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–æ–∂–Ω—ã–º, –∫–∞–∫ —à–∏—Ñ—Ä –¥—Ä–µ–≤–Ω–∏—Ö –º–∞–π—è! üßê

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª `Dockerfile` —Å–æ–∑–¥–∞–Ω –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `docker_ubuntu_proxies` –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–π –∫–æ–¥.

### –®–∞–≥ 2.3: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –°–∫—Ä–∏–ø—Ç–∞ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (`start.sh`) üöÄ

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –£—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–∏—Å—Ç–µ–º.

–í —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (`docker_ubuntu_proxies`), –≥–¥–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤–∞—à `Dockerfile`, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `start.sh` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ. –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É `redsocks` –∏ `iptables` –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ –∑–∞—Ç–µ–º –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ `supervisord`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Å–ª—É–∂–±–∞–º–∏.

```bash
#!/bin/bash
# =========================
# üìù –§–∞–π–ª: start.sh
# =========================

# –í—ã–π—Ç–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –µ—Å–ª–∏ –∫–∞–∫–∞—è-–ª–∏–±–æ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º —Å—Ç–∞—Ç—É—Å–æ–º.
set -e
# –ü–µ—á–∞—Ç–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏ –∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ –º–µ—Ä–µ –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏).
set -x

echo "INFO: start.sh –∑–∞–ø—É—â–µ–Ω."

# --- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π ALL_PROXY ---
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è ALL_PROXY —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
if [ -z "${ALL_PROXY}" ]; then
    echo "CRITICAL ERROR: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è ALL_PROXY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å." >&2
    echo "INFO: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –±–µ–∑ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è."
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º MOTD –±–µ–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–∫—Å–∏
    echo "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –≤–∞—à –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä Ubuntu!" > /etc/motd
    echo "" >> /etc/motd
    echo "–ü–†–ò–ú–ï–ß–ê–ù–ò–ï: ALL_PROXY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –∞–∫—Ç–∏–≤–Ω–æ." >> /etc/motd
    chmod 644 /etc/motd
    # –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–æ–ª—å–∫–æ supervisord –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏
    exec /usr/bin/supervisord -n -c /etc/supervisor/supervisord.conf
fi

PROXY_FULL_STRING="${ALL_PROXY}"
PROTOCOL=""
PROXY_CLEAN=""

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª –∏ –æ—á–∏—â–∞–µ–º —Å—Ç—Ä–æ–∫—É –ø—Ä–æ–∫—Å–∏ –æ—Ç –ø—Ä–µ—Ñ–∏–∫—Å–∞
if [[ "${PROXY_FULL_STRING}" == "socks5://"* ]]; then
    PROTOCOL="socks5"
    PROXY_CLEAN="${PROXY_FULL_STRING#socks5://}"
elif [[ "${PROXY_FULL_STRING}" == "http://"* ]]; then
    PROTOCOL="http"
    PROXY_CLEAN="${PROXY_FULL_STRING#http://}"
elif [[ "${PROXY_FULL_STRING}" == "https://"* ]]; then
    # Redsocks –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç HTTP/HTTPS –ø—Ä–æ–∫—Å–∏, –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–∞–∫ HTTP –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    PROTOCOL="http" 
    PROXY_CLEAN="${PROXY_FULL_STRING#https://}"
else
    echo "CRITICAL ERROR: –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–æ–∫—Å–∏ –≤ ALL_PROXY: ${PROXY_FULL_STRING}. –û–∂–∏–¥–∞–µ—Ç—Å—è socks5://, http:// –∏–ª–∏ https://." >&2
    exit 1
fi

PROXY_HOST_PORT=""
PROXY_USERNAME=""
PROXY_PASSWORD=""

# –†–∞–∑–¥–µ–ª—è–µ–º —Å—Ç—Ä–æ–∫—É –Ω–∞ —á–∞—Å—Ç–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Ö–æ—Å—Ç–∞/–ø–æ—Ä—Ç–∞
if [[ "${PROXY_CLEAN}" == *"@"* ]]; then
    # –ï—Å–ª–∏ –µ—Å—Ç—å @, –∑–Ω–∞—á–∏—Ç –µ—Å—Ç—å user:pass (–ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å)
    AUTH_PART="${PROXY_CLEAN%@*}"
    PROXY_HOST_PORT="${PROXY_CLEAN#*@}"
    PROXY_USERNAME="${AUTH_PART%:*}"
    PROXY_PASSWORD="${AUTH_PART#*:}"
else
    # –ù–µ—Ç @, –∑–Ω–∞—á–∏—Ç –Ω–µ—Ç user:pass
    PROXY_HOST_PORT="${PROXY_CLEAN}"
fi

# –ò–∑–≤–ª–µ–∫–∞–µ–º —Ö–æ—Å—Ç (IP –∏–ª–∏ –¥–æ–º–µ–Ω) –∏ –ø–æ—Ä—Ç
PROXY_HOST="${PROXY_HOST_PORT%:*}"
PROXY_PORT="${PROXY_HOST_PORT#*:}"

# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redsocks ---
echo "INFO: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redsocks..."
REDSOCKS_CONF_PATH="/etc/redsocks.conf"
# –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª redsocks
cat <<EOF > ${REDSOCKS_CONF_PATH}
base {
    log_debug = off;
    log_info = on;
    log = "syslog"; # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –∂—É—Ä–Ω–∞–ª
    daemon = on; # –ó–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∫ –¥–µ–º–æ–Ω
}
redsocks {
    local_ip = 0.0.0.0; # –°–ª—É—à–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
    local_port = 12345; # –õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Ç—Ä–∞—Ñ–∏–∫

    ip = ${PROXY_HOST};
    port = ${PROXY_PORT};

    type = ${PROTOCOL}; # socks5 –∏–ª–∏ http

EOF

# –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
if [[ -n "$PROXY_USERNAME" ]]; then
    cat <<EOF >> ${REDSOCKS_CONF_PATH}
    login = "${PROXY_USERNAME}";
    password = "${PROXY_PASSWORD}";
EOF
fi

cat <<EOF >> ${REDSOCKS_CONF_PATH}
}
EOF
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
chmod 644 ${REDSOCKS_CONF_PATH}
echo "INFO: Redsocks –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ ${REDSOCKS_CONF_PATH}."

# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IPTABLES –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è ---
echo "INFO: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–∏–ª IPTABLES –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è..."

# –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ø—Ä–∞–≤–∏–ª–∞ NAT
iptables -t nat -F
iptables -t nat -X

# –ò—Å–∫–ª—é—á–∞–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ –∏ —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π redsocks
iptables -t nat -A PREROUTING -d 127.0.0.1/32 -j RETURN
iptables -t nat -A OUTPUT -d 127.0.0.1/32 -j RETURN
# –ò—Å–∫–ª—é—á–∞–µ–º Redsocks –ø–æ—Ä—Ç, —á—Ç–æ–±—ã —Ç—Ä–∞—Ñ–∏–∫ –Ω–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–ª—Å—è
iptables -t nat -A OUTPUT -p tcp --dport 12345 -j RETURN 

# –ò—Å–∫–ª—é—á–∞–µ–º —Ç—Ä–∞—Ñ–∏–∫, –∏–¥—É—â–∏–π –∫ Docker-–¥–µ–º–æ–Ω—É –Ω–∞ —Ö–æ—Å—Ç–µ (Docker Desktop)
# –≠—Ç–∏ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å–∫–ª—é—á–µ–Ω—ã, —á—Ç–æ–±—ã Docker –º–æ–≥ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –ø—Ä–æ–±–ª–µ–º.
# –í–∫–ª—é—á–∞–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω –≤–∞—à–µ–π –∫–∞—Å—Ç–æ–º–Ω–æ–π —Å–µ—Ç–∏ (172.20.0.0/16),
# –∞ —Ç–∞–∫–∂–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã Docker (172.17.0.0/16, 172.18.0.0/16, 172.19.0.0/16).
for NETWORK_EXC in ${NO_PROXY//,/ }; do
    # –ü—ã—Ç–∞–µ–º—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–æ–º –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º
    if [[ "$NETWORK_EXC" =~ ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}(/[0-9]{1,2})?$ ]]; then
        iptables -t nat -A OUTPUT -d $NETWORK_EXC -j RETURN
        iptables -t nat -A PREROUTING -d $NETWORK_EXC -j RETURN
    elif [[ "$NETWORK_EXC" == "localhost" || "$NETWORK_EXC" == "127.0.0.1" ]]; then
        iptables -t nat -A OUTPUT -d 127.0.0.1/8 -j RETURN
        iptables -t nat -A PREROUTING -d 127.0.0.1/8 -j RETURN
    fi
done

# –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –≤–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π TCP-—Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç redsocks
iptables -t nat -A PREROUTING -p tcp -j REDIRECT --to-ports 12345
iptables -t nat -A OUTPUT -p tcp -j REDIRECT --to-ports 12345

echo "INFO: –ü—Ä–∞–≤–∏–ª–∞ IPTABLES –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã."

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–∞–≤–∏–ª–∞ iptables, —á—Ç–æ–±—ã –æ–Ω–∏ –æ—Å—Ç–∞–≤–∞–ª–∏—Å—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ supervisor
# –î–ª—è Ubuntu 22.04 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è netfilter-persistent
echo "INFO: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª IPTABLES..."
netfilter-persistent save
echo "INFO: –ü—Ä–∞–≤–∏–ª–∞ IPTABLES —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã."

# --- –ó–∞–ø—É—Å–∫–∞–µ–º Redsocks (—Ç–µ–ø–µ—Ä—å –æ–Ω –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ supervisor) ---
# –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ redsocks —É–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É.
echo "INFO: redsocks –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ supervisord."

# --- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSH-–∫–ª—é—á–µ–π —Ö–æ—Å—Ç–∞ (–µ—Å–ª–∏ –æ–Ω–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç) ---
echo "INFO: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è SSH-–∫–ª—é—á–µ–π —Ö–æ—Å—Ç–∞..."
ssh-keygen -A
echo "INFO: SSH-–∫–ª—é—á–∏ —Ö–æ—Å—Ç–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã (–µ—Å–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å)."

# --- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ IP —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏ –¥–ª—è MOTD ---
EXTERNAL_IP="–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"
echo "INFO: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ IP —á–µ—Ä–µ–∑ Redsocks..."
# curl —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–π–¥–µ—Ç —á–µ—Ä–µ–∑ redsocks –±–ª–∞–≥–æ–¥–∞—Ä—è iptables
EXTERNAL_IP=$(curl -s ifconfig.me || echo "–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è IP")
echo "INFO: –í–Ω–µ—à–Ω–∏–π IP —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏: ${EXTERNAL_IP}"

# --- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ MOTD (Message of the Day) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ ---
echo "INFO: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (MOTD)..."
cat <<EOF > /etc/motd
–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –≤–∞—à –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä Ubuntu!

–í–∞—à –≤–Ω–µ—à–Ω–∏–π IP —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏: ${EXTERNAL_IP}
–í–µ—Å—å –∏—Å—Ö–æ–¥—è—â–∏–π TCP —Ç—Ä–∞—Ñ–∏–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è.
EOF
chmod 644 /etc/motd
echo "INFO: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (MOTD) —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ."

echo "INFO: start.sh –∑–∞–≤–µ—Ä—à–∏–ª –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É. –ó–∞–ø—É—Å–∫–∞–µ–º supervisord..."
# –ó–∞–ø—É—Å–∫–∞–µ–º supervisord –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
# –û–Ω –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å SSHD –∏ Redsocks
exec /usr/bin/supervisord -n -c /etc/supervisor/supervisord.conf
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª `start.sh` —Å–æ–∑–¥–∞–Ω –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `docker_ubuntu_proxies` –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–π –∫–æ–¥. –û–Ω –æ–±–µ—Å–ø–µ—á–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ `supervisord`.

### –®–∞–≥ 2.4: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è `supervisord` (`supervisord.conf`) üîß

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –£—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª—É–∂–±–∞–º–∏.

–í —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (`docker_ubuntu_proxies`), —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `supervisord.conf` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ. –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–æ–∏–Ω—Å—Ç—Ä—É–∫—Ç–∏—Ä—É–µ—Ç `supervisord`, –∫–∞–∫–∏–µ —Å–ª—É–∂–±—ã —Å–ª–µ–¥—É–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –∫–∞–∫ –∏–º–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –≤ —Ä–∞–º–∫–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

```ini
; =========================
; üìù –§–∞–π–ª: supervisord.conf
; =========================
; –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Supervisord, —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

[supervisord]
; –ó–∞–ø—É—Å–∫–∞–µ–º supervisord –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å (PID 1)
nodaemon=true 

[program:sshd]
; –ó–∞–ø—É—Å–∫–∞–µ–º SSH-–¥–µ–º–æ–Ω
command=/usr/sbin/sshd -D 
; –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ supervisor
autostart=true 
; –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å, –µ—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å —É–ø–∞–ª
autorestart=true 
; –õ–æ–≥–∏ –≤ —ç—Ç–æ—Ç —Ñ–∞–π–ª
stdout_logfile=/var/log/supervisor/sshd.log 
; –û—à–∏–±–∫–∏ –≤ —ç—Ç–æ—Ç —Ñ–∞–π–ª
stderr_logfile=/var/log/supervisor/sshd_error.log 
loglevel=info

[program:redsocks]
; –ó–∞–ø—É—Å–∫–∞–µ–º Redsocks —Å –Ω–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
command=/usr/bin/redsocks -c /etc/redsocks.conf 
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/redsocks.log
stderr_logfile=/var/log/supervisor/redsocks_error.log
loglevel=info
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª `supervisord.conf` —Å–æ–∑–¥–∞–Ω –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `docker_ubuntu_proxies` –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –∑–∞–ø—É—Å–∫–∞ `sshd` –∏ `redsocks`.

### –®–∞–≥ 2.5: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –û–±—Ä–∞–∑—Ü–∞ –§–æ—Ä–ø–æ—Å—Ç–∞! üç™

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑—Ü–∞ –¥–ª—è –≤—Å–µ—Ö –±—É–¥—É—â–∏—Ö —Ñ–æ—Ä–ø–æ—Å—Ç–æ–≤.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∏ –∏ —É—Ç–≤–µ—Ä–¥–∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã `Dockerfile`, `start.sh` –∏ `supervisord.conf` —Å–æ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏, –≤—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–¥–∞—Ç—å –ø—Ä–∏–∫–∞–∑ Docker –Ω–∞ "–ø–æ–¥–≥–æ—Ç–æ–≤–∫—É" –æ–±—Ä–∞–∑–∞. –≠—Ç–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –±–æ–µ–≤—ã—Ö –µ–¥–∏–Ω–∏—Ü! üòã

1.  –û—Ç–∫—Ä–æ–π—Ç–µ **–¢–µ—Ä–º–∏–Ω–∞–ª** (–ø–æ–¥ Windows —ç—Ç–æ PowerShell, CMD –∏–ª–∏ Git Bash; –ø–æ–¥ macOS/Linux ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¢–µ—Ä–º–∏–Ω–∞–ª).

2.  **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `docker_ubuntu_proxies`**, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –≤–∞—à–∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∫–æ–º–∞–Ω–¥!

    ```bash
    # –ü—Ä–∏–º–µ—Ä, –∫–∞–∫ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É:
    cd C:\Users\–¢–≤–æ—ë–ò–º—è\docker_ubuntu_proxies # –î–ª—è Windows
    # –∏–ª–∏, –µ—Å–ª–∏ –Ω–∞ Mac/Linux:
    cd ~/Documents/docker_ubuntu_proxies # –ü—Ä–∏–º–µ—Ä –¥–ª—è Mac/Linux
    ```

3.  –í–≤–µ–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–≤–æ–¥:

    ```bash
    docker build -t my-ubuntu-system-proxy-server .
    ```

    * `docker build` ‚Äî —ç—Ç–æ –¥–∏—Ä–µ–∫—Ç–∏–≤–∞, —É–∫–∞–∑—ã–≤–∞—é—â–∞—è Docker: "–ü—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—é –æ–±—Ä–∞–∑–∞!"

    * `-t my-ubuntu-system-proxy-server` ‚Äî —ç—Ç–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –¥–ª—è –≤–∞—à–µ–≥–æ –æ–±—Ä–∞–∑—Ü–∞. –≠—Ç–æ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±–ª–µ–≥—á–∏—Ç –ø–æ—Å–ª–µ–¥—É—é—â—É—é –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –æ–±—Ä–∞–∑–∞. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–æ–≤–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ, —É–∫–∞–∑—ã–≤–∞—é—â–µ–µ –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ!

    * `.` (—Ç–æ—á–∫–∞) –≤ –∫–æ–Ω—Ü–µ ‚Äî —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –û–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç Docker: "–ò—Å–∫–∞—Ç—å `Dockerfile` –∏ –¥—Ä—É–≥–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `start.sh` –∏ `supervisord.conf`, –≤ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏."
      üí° **–í–∞–∂–Ω–æ!** –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–∞—à–µ–≥–æ –æ–±—Ä–∞–∑–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ **–Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ!** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ –¥–µ—Ñ–∏—Å—ã (`-`) –∏–ª–∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è (`_`). **–ò–°–ö–õ–Æ–ß–ò–¢–¨ –ó–ê–ì–õ–ê–í–ù–´–ï –ë–£–ö–í–´!** –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª—É –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –±–æ–µ–≤—ã—Ö –µ–¥–∏–Ω–∏—Ü ‚Äî –≤—Å—ë —Å—Ç—Ä–æ–≥–æ –ø–æ —É—Å—Ç–∞–≤—É! üéÆ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Docker –Ω–∞—á–Ω–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–∑ `Dockerfile` –≤ —Å—Ç—Ä–æ–≥–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –í –¢–µ—Ä–º–∏–Ω–∞–ª–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –æ –ø—Ä–æ—Ü–µ—Å—Å–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º. –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –æ–±—Ä–∞–∑–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: `Successfully built <image_id> Successfully tagged my-ubuntu-system-proxy-server:latest`.

### –®–∞–≥ 2.6: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ "–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –ü–ª–∞–Ω–∞ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è" (`docker-compose.yml`) üìù

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –£—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤—Å–µ—Ö –±–æ–µ–≤—ã—Ö –µ–¥–∏–Ω–∏—Ü.

–í —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (`docker_ubuntu_proxies`), –≥–¥–µ —É–∂–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è `Dockerfile`, `start.sh` –∏ `supervisord.conf`, —Å–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `docker-compose.yml`. –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å—Ç–∞–Ω–µ—Ç –≤–∞—à–∏–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–º –ø–ª–∞–Ω–æ–º –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —Ü–µ–ª–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –≥–¥–µ –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –æ—Å–Ω–∞—â–µ–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –ø—Ä–æ–∫—Å–∏-–∫–∞–Ω–∞–ª–æ–º! üè∞

–ú—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—à `my-ubuntu-system-proxy-server` –æ–±—Ä–∞–∑, –∏–º–µ—Ç—å —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–∫—Å–∏-–∫–∞–Ω–∞–ª –∏ –ø—Ä–æ–±—Ä–æ—à–µ–Ω–Ω—ã–π SSH-–ø–æ—Ä—Ç.
**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–¥–µ–ª–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–∫—Å–∏-–∫–∞–Ω–∞–ª, –∞ —Ç–∞–∫–∂–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å.

```yaml
# =========================
# üìù –§–∞–π–ª: docker-compose.yml
# =========================
# –í–µ—Ä—Å–∏—è —Ç–≤–æ–µ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞. –î–µ—Ä–∂–∏ –µ—ë –∞–∫—Ç—É–∞–ª—å–Ω–æ–π, —á—Ç–æ–±—ã —é–∑–∞—Ç—å –≤—Å–µ —Ñ–∏—á–∏! üåü
version: '3.8'

services:
  # –¢—É—Ç –º—ã –æ–ø–∏—Å—ã–≤–∞–µ–º –ö–ê–ñ–î–´–ô —Ç–∏–ø –¥–æ–º–∏–∫–∞ (—Å–µ—Ä–≤–∏—Å), –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–º –Ω—É–∂–µ–Ω.
  # –ü–æ–º–Ω–∏, –∫–∞–∂–¥—ã–π ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∏–Ω–∏-—Å–µ—Ä–≤–µ—Ä Ubuntu 22.04 —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –ø—Ä–æ–∫—Å–∏!
  # –¢—ã –º–æ–∂–µ—à—å –¥–æ–±–∞–≤–ª—è—Ç—å –∏–ª–∏ —É–¥–∞–ª—è—Ç—å —Å–µ—Ä–≤–∏—Å—ã (s1, s2, s3 –∏ —Ç.–¥.) –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
  # –ü—Ä–æ—Å—Ç–æ –∫–æ–ø–∏—Ä—É–π –±–ª–æ–∫, –º–µ–Ω—è–π –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, s4), –ø–æ—Ä—Ç—ã –∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏.

  s1: # –ü–µ—Ä–≤—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä Ubuntu —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –ø—Ä–æ–∫—Å–∏
    # Docker Compose: "–ò—Å–ø–æ–ª—å–∑—É–π Dockerfile –∏–∑ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏ –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞!" üè≠
    build: .
    # –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –ª–µ–≥–∫–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
    container_name: ubuntu_proxy_s1
    # –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ—Ä—Ç SSH: 2221 –Ω–∞ —Ç–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤–µ–¥—ë—Ç –Ω–∞ 22 –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
    # –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–π –£–ù–ò–ö–ê–õ–¨–ù–´–ô –ø–æ—Ä—Ç –Ω–∞ —Ö–æ—Å—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2222, 2223 –∏ —Ç.–¥.).
    ports:
      - "2221:22"
    networks:
      my_test_network:
      # –ü–æ–¥–∫–ª—é—á–∏ –¥–æ–º–∏–∫ –∫ –Ω–∞—à–µ–π –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–µ—Ç–∏. –≠—Ç–æ –∫–∞–∫ —Ç–≤–æ—è –∑–∞–∫—Ä—ã—Ç–∞—è —É–ª–∏—Ü–∞ –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º –≥–æ—Ä–æ–¥–µ. üèòÔ∏è
        # –î–∞—ë–º –µ–º—É —É–Ω–∏–∫–∞–ª—å–Ω—ã–π IP-–∞–¥—Ä–µ—Å –≤–Ω—É—Ç—Ä–∏ –Ω–∞—à–µ–π —Å–µ—Ç–∏. –ö–∞–∫ –Ω–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã. üìç
        # –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–π –£–ù–ò–ö–ê–õ–¨–ù–´–ô IP-–∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, 172.20.0.11, 172.20.0.12 –∏ —Ç.d.).
        ipv4_address: 172.20.0.10
    environment:
      # –ó–¥–µ—Å—å –º—ã –ø–µ—Ä–µ–¥–∞—ë–º —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –¢–í–û–ò –°–ï–ö–†–ï–¢–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï! üïµÔ∏è‚Äç‚ôÄÔ∏è
      # –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ–∫—Å–∏.
      # –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É ALL_PROXY –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞, —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–≤ –Ω—É–∂–Ω—É—é.

      # –ü—Ä–∏–º–µ—Ä 1: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SOCKS5 –ø—Ä–æ–∫—Å–∏
      # –§–æ—Ä–º–∞—Ç: socks5://–õ–û–ì–ò–ù:–ü–ê–†–û–õ–¨@–ê–î–†–ï–°_–ü–†–û–ö–°–ò:<–ü–û–†–¢_–ü–†–û–ö–°–ò>
      # –ü—Ä–∏–º–µ—Ä: socks5://user:pass@192.168.1.100:1080
      ALL_PROXY: "socks5://<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò_1>:<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò_1>@<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_1>:<–ü–û–†–¢_–ü–†–û–ö–°–ò_1>"

      # –ü—Ä–∏–º–µ—Ä 2: –ù–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SOCKS5 –ø—Ä–æ–∫—Å–∏ (–±–µ–∑ –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è)
      # –§–æ—Ä–º–∞—Ç: socks5://–ê–î–†–ï–°_–ü–†–û–ö–°–ò:<–ü–û–†–¢_–ü–†–û–ö–°–ò>
      # –ü—Ä–∏–º–µ—Ä: socks5://192.168.1.100:1080
      # ALL_PROXY: "socks5://<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_1>:<–ü–û–†–¢_–ü–†–û–ö–°–ò_1>"

      # –ü—Ä–∏–º–µ—Ä 3: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTTP/HTTPS –ø—Ä–æ–∫—Å–∏
      # –§–æ—Ä–º–∞—Ç: http://–õ–û–ì–ò–ù:–ü–ê–†–û–õ–¨@–ê–î–†–ï–°_–ü–†–û–ö–°–ò:<–ü–û–†–¢_–ü–†–û–ö–°–ò>
      # (redsocks –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTPS —Ç—Ä–∞—Ñ–∏–∫ –∫–∞–∫ HTTP)
      # –ü—Ä–∏–º–µ—Ä: [http://user:pass@192.168.1.100:8080](http://user:pass@192.168.1.100:8080)
      # ALL_PROXY: "http://<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò_1>:<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò_1>@<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_1>:<–ü–û–†–¢_–ü–†–û–ö–°–ò_1>"

      # –ü—Ä–∏–º–µ—Ä 4: –ù–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTTP/HTTPS –ø—Ä–æ–∫—Å–∏ (–±–µ–∑ –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è)
      # –§–æ—Ä–º–∞—Ç: http://–ê–î–†–ï–°_–ü–†–û–ö–°–ò:<–ü–û–†–¢_–ü–†–û–ö–°–ò>
      # –ü—Ä–∏–º–µ—Ä: [http://192.168.1.100:8080](http://192.168.1.100:8080)
      # ALL_PROXY: "http://<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_1>:<–ü–û–†–¢_–ü–†–û–ö–°–ò_1>"

      # NO_PROXY - –∫—É–¥–∞ –Ω–µ –Ω—É–∂–Ω–æ —Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ (–ª–æ–∫–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ Docker). üö´
      # –í–∞–∂–Ω–æ, —á—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –º–æ–≥–ª–∏ –æ–±—â–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –≤ —Ç–≤–æ–µ–π —Å–µ—Ç–∏
      # (my_test_network!) –∏ —Å Docker Desktop –Ω–∞–ø—Ä—è–º—É—é. –≠—Ç–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è - –º–∞—Å—Ç—Ö—ç–≤! ‚ö†Ô∏è
      NO_PROXY: "localhost,127.0.0.1,host.docker.internal,docker-desktop,172.17.0.0/16,172.18.0.0/16,172.19.0.0/16,172.20.0.0/16"
    dns:
      - 8.8.8.8
      - 1.1.1.1
      # –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–µ DNS-—Å–µ—Ä–≤–µ—Ä—ã –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–º–µ–Ω –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
    # –í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. üí™
    restart: always

  s2: # –í—Ç–æ—Ä–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä Ubuntu —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –ø—Ä–æ–∫—Å–∏
    build: .
    container_name: ubuntu_proxy_s2
    ports:
      - "2222:22"
    networks:
      my_test_network:
        ipv4_address: 172.20.0.11
    environment:
      # –ó–ê–ú–ï–ù–ò –ù–ê –†–ï–ê–õ–¨–ù–´–ï –£–ù–ò–ö–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï –ü–†–û–ö–°–ò 2! üö®
      # –ò—Å–ø–æ–ª—å–∑—É–π —Ñ–æ—Ä–º–∞—Ç, –ø–æ–¥—Ö–æ–¥—è—â–∏–π –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–∫—Å–∏ (—Å–º. –ø—Ä–∏–º–µ—Ä—ã –≤—ã—à–µ).
      ALL_PROXY: "socks5://<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò_2>:<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò_2>@<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_2>:<–ü–û–†–¢_–ü–†–û–ö–°–ò_2>"
      NO_PROXY: "localhost,127.0.0.1,host.docker.internal,docker-desktop,172.17.0.0/16,172.18.0.0/16,172.19.0.0/16,172.20.0.0/16"
    dns:
      - 8.8.8.8
      - 1.1.1.1
    restart: always

  s3: # –¢—Ä–µ—Ç–∏–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä Ubuntu —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –ø—Ä–æ–∫—Å–∏
    build: .
    container_name: ubuntu_proxy_s3
    ports:
      - "2223:22"
    networks:
      my_test_network:
        ipv4_address: 172.20.0.12
    environment:
      # –ó–ê–ú–ï–ù–ò –ù–ê –†–ï–ê–õ–¨–ù–´–ï –£–ù–ò–ö–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï –ü–†–û–ö–°–ò 3! üö®
      # –ò—Å–ø–æ–ª—å–∑—É–π —Ñ–æ—Ä–º–∞—Ç, –ø–æ–¥—Ö–æ–¥—è—â–∏–π –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–∫—Å–∏ (—Å–º. –ø—Ä–∏–º–µ—Ä—ã –≤—ã—à–µ).
      ALL_PROXY: "socks5://<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò_3>:<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò_3>@<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_3>:<–ü–û–†–¢_–ü–†–û–ö–°–ò_3>"
      NO_PROXY: "localhost,127.0.0.1,host.docker.internal,docker-desktop,172.17.0.0/16,172.18.0.0/16,172.19.0.0/16,172.20.0.0/16"
    dns:
      - 8.8.8.8
      - 1.1.1.1
    restart: always

  # --- –ü—Ä–∏–º–µ—Ä —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –±–ª–æ–∫—á–µ–π–Ω-–Ω–æ–¥—ã (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –ø—Ä–æ–∫—Å–∏) ---
  # –¢—ã –º–æ–∂–µ—à—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –±–ª–æ–∫ –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è —Å–≤–æ–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –Ω–æ–¥—ã.
  # –í–∞–∂–Ω–æ: –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–¥—ã –Ω—É–∂–µ–Ω —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ALL_PROXY –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π VOLUME –¥–ª—è –¥–∞–Ω–Ω—ã—Ö!
  node_example_1:
    build: . # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ Dockerfile
    container_name: blockchain_node_1
    # –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ—Ä—Ç—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –≤–∞—à–µ–π –Ω–æ–¥—ã.
    # –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è Ethereum —ç—Ç–æ 8545 (RPC), 30303 (P2P).
    # –î–ª—è –¥—Ä—É–≥–∏—Ö –±–ª–æ–∫—á–µ–π–Ω–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –¥—Ä—É–≥–∏–µ –ø–æ—Ä—Ç—ã!
    ports:
      - "8001:22" # SSH –¥–æ—Å—Ç—É–ø –∫ –Ω–æ–¥–µ
      - "8545:8545" # –ü—Ä–∏–º–µ—Ä –ø–æ—Ä—Ç–∞ RPC –¥–ª—è Ethereum
      - "30303:30303" # –ü—Ä–∏–º–µ—Ä –ø–æ—Ä—Ç–∞ P2P TCP –¥–ª—è Ethereum
      - "30303:30303/udp" # –ü—Ä–∏–º–µ—Ä –ø–æ—Ä—Ç–∞ P2P UDP –¥–ª—è Ethereum
    networks:
      my_test_network:
        ipv4_address: 172.20.0.20 # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π IP –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–¥—ã
    environment:
      # –£–ù–ò–ö–ê–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï –ü–†–û–ö–°–ò –î–õ–Ø –≠–¢–û–ô –ù–û–î–´!
      ALL_PROXY: "socks5://<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò_4>:<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò_4>@<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_4>:<–ü–û–†–¢_–ü–†–û–ö–°–ò_4>"
      NO_PROXY: "localhost,127.0.0.1,host.docker.internal,docker-desktop,172.17.0.0/16,172.18.0.0/16,172.19.0.0/16,172.20.0.0/16"
    dns:
      - 8.8.8.8
      - 1.1.1.1
    # –°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –¥–ª—è –Ω–æ–¥—ã: –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö!
    # –ó–∞–º–µ–Ω–∏ /data –Ω–∞ –ø—É—Ç—å, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–µ–Ω –≤–∞—à–µ–π –Ω–æ–¥–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–ª–æ–∫—á–µ–π–Ω–∞.
    volumes:
      - node_data_1:/data # –¢–æ–º –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –±–ª–æ–∫—á–µ–π–Ω–∞
    # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞ –¥–ª—è —ç—Ç–æ–π –Ω–æ–¥—ã. Supervisor –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–∞—à—É –Ω–æ–¥—É.
    # –ó–∞–º–µ–Ω–∏—Ç–µ <–ö–û–ú–ê–ù–î–ê_–ó–ê–ü–£–°–ö–ê_–ù–û–î–´> –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É, –Ω–∞–ø—Ä–∏–º–µ—Ä:
    # command: ["/usr/bin/supervisord", "-n", "-c", "/etc/supervisor/supervisord.conf"]
    # (–µ—Å–ª–∏ –≤–∞—à–∞ –Ω–æ–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ supervisor, –∫–∞–∫ –∏ SSH/Redsocks)
    # –ò–õ–ò, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–æ–¥—É –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å, —Ç–æ:
    # command: ["geth", "--http", "--datadir", "/data", ...]
    # –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –Ω–æ–¥–∞ –±—ã–ª–∞ –∑–∞–ø—É—â–µ–Ω–∞ —á–µ—Ä–µ–∑ supervisor, –≤–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ–µ –≤ supervisord.conf.
    # –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã, –∑–¥–µ—Å—å –º—ã –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ supervisor,
    # –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –∑–∞–ø—É—Å—Ç–∏—Ç SSH –∏ Redsocks. –í–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–æ–¥—ã –≤ supervisord.conf.
    command: ["/usr/bin/supervisord", "-n", "-c", "/etc/supervisor/supervisord.conf"]
    restart: always

networks:
  # –¢—É—Ç —Ç—ã –æ–ø–∏—Å—ã–≤–∞–µ—à—å —Å–≤–æ–∏ "—É–ª–∏—Ü—ã" (—Å–µ—Ç–∏) –≤ –≥–æ—Ä–æ–¥–µ.
  my_test_network: # –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ –∂–µ –∏–º—è, —á—Ç–æ –∏ –≤—ã—à–µ, —á—Ç–æ–±—ã –≤—Å–µ –±—ã–ª–∏ –Ω–∞ –æ–¥–Ω–æ–π —É–ª–∏—Ü–µ!
    driver: bridge
    # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–∏–ø —Å–µ—Ç–∏. –≠—Ç–æ –∫–∞–∫ —Ç–≤–æ–π –ª–∏—á–Ω—ã–π –º–æ—Å—Ç, —Å–æ–µ–¥–∏–Ω—è—é—â–∏–π –¥–æ–º–∏–∫–∏ –≤–Ω—É—Ç—Ä–∏ Docker. üåâ
    ipam:
    # –ü–ª–∞–Ω –Ω—É–º–µ—Ä–∞—Ü–∏–∏ –¥–æ–º–æ–≤ –Ω–∞ —É–ª–∏—Ü–µ.
      config:
        - subnet: 172.20.0.0/16
        # –î–∏–∞–ø–∞–∑–æ–Ω IP-–∞–¥—Ä–µ—Å–æ–≤ –¥–ª—è —ç—Ç–æ–π —Å–µ—Ç–∏. –í—Å–µ —Ç–≤–æ–∏ –¥–æ–º–∏–∫–∏ –ø–æ–ª—É—á–∞—Ç –∞–¥—Ä–µ—Å–∞ –æ—Ç—Å—é–¥–∞. üèòÔ∏è

volumes:
  # –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ç–æ–º–æ–≤ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–æ–¥.
  # –ö–∞–∂–¥–∞—è –Ω–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –°–í–û–ô —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–º!
  node_data_1:
    driver: local
  # –î–æ–±–∞–≤–ª—è–π —Å—é–¥–∞ –¥—Ä—É–≥–∏–µ —Ç–æ–º–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:
  # node_data_2:
  #   driver: local
```

**–í–∞–∂–Ω–æ:**
* **–ó–∞–º–µ–Ω–∏ placeholder'—ã `<–õ–û–ì–ò–ù_–ü–†–û–ö–°–ò_X>`, `<–ü–ê–†–û–õ–¨_–ü–†–û–ö–°–ò_X>`, `<IP_–ê–î–†–ï–°_–ü–†–û–ö–°–ò_X>`, `<–ü–û–†–¢_–ü–†–û–ö–°–ò_X>` –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–≤–æ–∏—Ö –ø—Ä–æ–∫—Å–∏!**
* **–î–ª—è —Å–µ—Ä–≤–∏—Å–∞ `node_example_1` (–∏ –ª—é–±—ã—Ö –¥—Ä—É–≥–∏—Ö –Ω–æ–¥):**
    * **`ports`:** –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç—ã –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—à—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã –¥–ª—è —Ç–≤–æ–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –±–ª–æ–∫—á–µ–π–Ω-–Ω–æ–¥—ã (RPC, P2P –∏ —Ç.–¥.).
    * **`ipv4_address`:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π **–£–ù–ò–ö–ê–õ–¨–ù–´–ô** IP-–∞–¥—Ä–µ—Å –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–¥—ã.
    * **`ALL_PROXY`:** –£–∫–∞–∂–∏ **–£–ù–ò–ö–ê–õ–¨–ù–´–ï** –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–¥—ã.
    * **`volumes`:** **–≠–¢–û –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!** –°–æ–∑–¥–∞–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–º –¥–ª—è *–∫–∞–∂–¥–æ–π* –Ω–æ–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `node_data_1`, `node_data_2`) –∏ –º–æ–Ω—Ç–∏—Ä—É–π –µ–≥–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –≥–¥–µ –Ω–æ–¥–∞ —Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/data` –∏–ª–∏ `/root/.ethereum`). –ë–µ–∑ —ç—Ç–æ–≥–æ –¥–∞–Ω–Ω—ã–µ –Ω–æ–¥—ã –±—É–¥—É—Ç —Ç–µ—Ä—è—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞!
    * **`command`:** –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ª–∏–±–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–≤–æ–π –∫–ª–∏–µ–Ω—Ç –Ω–æ–¥—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `supervisord`, –ª–∏–±–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å `command` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é (—Ç–æ–≥–¥–∞ `sshd` –∏ `redsocks` –Ω–µ –±—É–¥—É—Ç –∑–∞–ø—É—â–µ–Ω—ã, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ —Ç—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–∏—à—å –∏—Ö –∫–∞–∫ —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã). **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –∑–∞–ø—É—Å–∫–∞ –≤–∞—à–µ–π –Ω–æ–¥—ã –≤ —Ñ–∞–π–ª `supervisord.conf`**, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è `sshd` –∏ `redsocks`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç `supervisord` —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏. –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è `geth` (–∫–ª–∏–µ–Ω—Ç Ethereum) –≤ `supervisord.conf` –±—É–¥–µ—Ç –Ω–∏–∂–µ.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª `docker-compose.yml` —Å–æ–∑–¥–∞–Ω –≤ –ø–∞–ø–∫–µ `docker_ubuntu_proxies` –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ç–≤–æ–µ–π –∞—Ä–º–∏–∏ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ –ø—Ä–∏–º–µ—Ä–∞ –±–ª–æ–∫—á–µ–π–Ω-–Ω–æ–¥—ã.

---

## –†–∞–∑–¥–µ–ª 3: –ó–∞–ø—É—Å–∫–∞–µ–º –¢–≤–æ—é –ê—Ä–º–∏—é –°–µ—Ä–≤–µ—Ä–æ–≤! üöÄ

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –û—Ç–¥–∞—Ç—å –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–∫–∞–∑ –∫ —Å—Ç–∞—Ä—Ç—É –≤—Å–µ–π –∞—Ä–º–∏–∏!

–í—Å–µ —Ñ–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã, –±—Ä–∞—Ç–∏—à–∫–∞! –¢–µ–ø–µ—Ä—å —Ç—ã –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π –∫–æ–º–∞–Ω–¥—É—é—â–∏–π –∞—Ä–º–∏–µ–π, –≥–æ—Ç–æ–≤—ã–π –æ—Ç–¥–∞—Ç—å –ø—Ä–∏–∫–∞–∑ –∫ —Å—Ç–∞—Ä—Ç—É! üí™

### –®–∞–≥ 3.1: –ó–∞–ø—É—Å—Ç–∏ —Å–≤–æ—é –∞—Ä–º–∏—é! üöÄ (–ò–ª–∏ –æ–±–Ω–æ–≤–∏ –µ—ë!)

–¢—ã —É–∂–µ –Ω–∞—Ö–æ–¥–∏—à—å—Å—è –≤ –ø–∞–ø–∫–µ `docker_ubuntu_proxies` (–®–∞–≥ 2.5), –≥–¥–µ –ª–µ–∂–∞—Ç –≤—Å–µ —Ç–≤–æ–∏ —Ñ–∞–π–ª—ã.

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏–ª–∏ –ø–æ—Å–ª–µ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `Dockerfile`, `start.sh`, `supervisord.conf` –∏–ª–∏ `docker-compose.yml` Docker Compose –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç (–∏–ª–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç) –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–±—Ä–∞–∑—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ç–≤–æ—è –∞—Ä–º–∏—è –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ —Å–∞–º—ã—Ö —Å–≤–µ–∂–∏—Ö "–¥–æ–º–∏–∫–æ–≤"!

–ï—Å–ª–∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–±—Ä–æ—Å–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ** (—É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Å–µ—Ç–∏, —Ç–æ–º–∞ –∏ –æ–±—Ä–∞–∑—ã), –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º, —Ç—ã –º–æ–∂–µ—à—å —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É. **–í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!**
`docker-compose down --volumes --rmi all`
–ê –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```bash
docker-compose up -d --build
```
* `docker-compose up`: –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ `docker-compose.yml`.
* `-d` (detach): –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, —á—Ç–æ–±—ã –¢–µ—Ä–º–∏–Ω–∞–ª –æ—Å—Ç–∞–ª—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–º –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–∞–Ω–¥.
* `--build`: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –¥–∞–∂–µ –µ—Å–ª–∏ Docker —Å—á–∏—Ç–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `Dockerfile`, `start.sh` –∏–ª–∏ `supervisord.conf`. –î–ª—è –ø–µ—Ä–≤—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤ `--build` –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ Docker —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å–±–æ—Ä–∫–∏.

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Docker Compose –ø–æ–∫–∞–∂–µ—Ç, –∫–∞–∫ –æ–Ω —Å–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–≤–æ–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã. –¢—ã —É–≤–∏–¥–∏—à—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Ç–∏, –∑–∞—Ç–µ–º –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ –∑–∞–ø—É—Å–∫–µ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: `Creating ubuntu_proxy_s1 ... done`. –ï—Å–ª–∏ –≤—Å—ë —É—Å–ø–µ—à–Ω–æ, –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –≤–µ—Ä–Ω–µ—Ç—Å—è, –∏ —Ç—ã —Å–º–æ–∂–µ—à—å –≤–≤–æ–¥–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã.

---

## –†–∞–∑–¥–µ–ª 4: –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –¢–≤–æ–∏–º –î–æ–º–∏–∫–∞–º! üïµÔ∏è‚Äç‚ôÇÔ∏è

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–∞–∂–¥—ã–π –¥–æ–º–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø–ª–∞–Ω—É.

–¢–≤–æ–∏ –¥–æ–º–∏–∫–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã! –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –Ω–∞–¥–æ, –∏ —Ç—ã —Å–º–æ–∂–µ—à—å –∫ –Ω–∏–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è.

### –®–∞–≥ 4.1: –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å–µ "–¥–æ–º–∏–∫–∏" –∂–∏–≤—ã

–ù–∞ —Å–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (–≤ –¢–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ —Ç—ã –∑–∞–ø—É—Å–∫–∞–ª Docker Compose) –Ω–∞–±–µ—Ä–∏:

```bash
docker ps
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—ã —É–≤–∏–¥–∏—à—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç–≤–æ–∏ `ubuntu_proxy_s1`, `ubuntu_proxy_s2`, `ubuntu_proxy_s3` –∏ `blockchain_node_1` (–∏–ª–∏ –∫–∞–∫ —Ç—ã –∏—Ö –Ω–∞–∑–≤–∞–ª –≤ `docker-compose.yml`) –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ `Up` (—Ä–∞–±–æ—Ç–∞—é—Ç), –Ω–∞–ø—Ä–∏–º–µ—Ä:
```
CONTAINER ID   IMAGE                          COMMAND                  CREATED         STATUS         PORTS                                                    NAMES
a1b2c3d4e5f6   my-ubuntu-system-proxy-server  "/usr/local/bin/star‚Ä¶"   5 seconds ago   Up 4 seconds   0.0.0.0:2221->22/tcp                                     ubuntu_proxy_s1
f6e5d4c3b2a1   my-ubuntu-system-proxy-server  "/usr/local/bin/star‚Ä¶"   5 seconds ago   Up 4 seconds   0.0.0.0:2222->22/tcp                                     ubuntu_proxy_s2
c1d2e3f4a5b6   my-ubuntu-system-proxy-server  "/usr/local/bin/star‚Ä¶"   5 seconds ago   Up 4 seconds   0.0.0.0:2223->22/tcp                                     ubuntu_proxy_s3
d7e8f9a0b1c2   my-ubuntu-system-proxy-server  "/usr/local/bin/star‚Ä¶"   5 seconds ago   Up 4 seconds   0.0.0.0:8001->22/tcp, 0.0.0.0:8545->8545/tcp, ...       blockchain_node_1
```
–≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —Ç–≤–æ–∏ –¥–æ–º–∏–∫–∏ –ø–æ–¥–Ω—è—Ç—ã –∏ –∂–¥—É—Ç –∫–æ–º–∞–Ω–¥! ‚úÖ

### –®–∞–≥ 4.2: –°–º–æ—Ç—Ä–∏–º, —á—Ç–æ "–≥–æ–≤–æ—Ä—è—Ç" —Ç–≤–æ–∏ –¥–æ–º–∏–∫–∏ (–ª–æ–≥–∏)

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –ü—Ä–æ—Å–ª—É—à–∞—Ç—å —ç—Ñ–∏—Ä –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç.

–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `redsocks`, `sshd` –∏ –¥—Ä—É–≥–∏–µ —Å–ª—É–∂–±—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –æ–¥–Ω–æ–≥–æ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–π –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä–æ–µ —Ç—ã –≤–∏–¥–∏—à—å –≤ –≤—ã–≤–æ–¥–µ `docker ps`:

```bash
docker logs ubuntu_proxy_s1 # –ó–∞–º–µ–Ω–∏ ubuntu_proxy_s1 –Ω–∞ –∏–º—è —Å–≤–æ–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—ã —É–≤–∏–¥–∏—à—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π. –ò—â–∏ —Å—Ç—Ä–æ–∫–∏, —É–∫–∞–∑—ã–≤–∞—é—â–∏–µ –Ω–∞ –∑–∞–ø—É—Å–∫ `sshd` –∏ `redsocks`. –î–ª—è `redsocks` —ç—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤–∏–¥–∞ `redsocks starting` –∏–ª–∏ `redsocks bound to 0.0.0.0:12345`. –¢–∞–∫–∂–µ –∏—â–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ IP –æ—Ç `curl ifconfig.me`, –∫–æ—Ç–æ—Ä–æ–µ **–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å IP —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–∫—Å–∏**, –∞ –Ω–µ —Ç–≤–æ–π –¥–æ–º–∞—à–Ω–∏–π IP.

### –®–∞–≥ 4.3: –ó–∞—Ö–æ–¥–∏–º –≤ –¥–æ–º–∏–∫ –ø–æ SSH (—Ç–≤–æ–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –≤—Ö–æ–¥!)

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤—è–∑—å —Å –∫–∞–∂–¥—ã–º –∫–æ–º–∞–Ω–¥–Ω—ã–º –ø—É–Ω–∫—Ç–æ–º.

–¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–∞–∂–¥–æ–º—É –º–∏–Ω–∏-—Å–µ—Ä–≤–µ—Ä—É Ubuntu –ø–æ SSH —Å–æ —Å–≤–æ–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞. –ú—ã –ø—Ä–æ–±—Ä–æ—Å–∏–ª–∏ –ø–æ—Ä—Ç—ã: `2221` –¥–ª—è `s1`, `2222` –¥–ª—è `s2` –∏ `2223` –¥–ª—è `s3`. –î–ª—è –Ω–æ–¥—ã `node_example_1` —ç—Ç–æ `8001`.

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –¢–µ—Ä–º–∏–Ω–∞–ª (Windows PowerShell/CMD/Git Bash, macOS/Linux):**

```bash
ssh root@localhost -p 2221 # –î–ª—è –ø–µ—Ä–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (s1)
# –∏–ª–∏
ssh root@localhost -p 2222 # –î–ª—è –≤—Ç–æ—Ä–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (s2)
# –∏–ª–∏
ssh root@localhost -p 2223 # –î–ª—è —Ç—Ä–µ—Ç—å–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (s3)
# –∏–ª–∏
ssh root@localhost -p 8001 # –î–ª—è –Ω–æ–¥—ã (node_example_1)
```
* –¢–µ–±—è –ø–æ–ø—Ä–æ—Å—è—Ç –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å. –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ—Ç **–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨**, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —É–∫–∞–∑—ã–≤–∞–ª –≤ `Dockerfile`!
* **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è —Ç—ã —É—Å–ø–µ—à–Ω–æ –≤–æ–π–¥–µ—à—å –≤ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤–Ω—É—Ç—Ä–∏ —Å–≤–æ–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Ubuntu! –¢—ã —É–≤–∏–¥–∏—à—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ `root@<ID_–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞>:/#`, –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º IP –∞–¥—Ä–µ—Å–æ–º –ø—Ä–æ–∫—Å–∏.

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ SSH-–∫–ª–∏–µ–Ω—Ç—ã:**

–î–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ —Ç—ã –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∫–ª–∏–µ–Ω—Ç—ã. –í–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö —Ç–µ–±–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:
* **–•–æ—Å—Ç (Host/Hostname):** `localhost` –∏–ª–∏ `127.0.0.1`
* **–ü–æ—Ä—Ç (Port):** –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2221` –¥–ª—è `s1`, `2222` –¥–ª—è `s2`, `2223` –¥–ª—è `s3`, `8001` –¥–ª—è `node_example_1` –∏ —Ç.–¥.)
* **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (Username):** `root`
* **–ü–∞—Ä–æ–ª—å (Password):** –¢–æ—Ç —Å–∞–º—ã–π `<–¢–í–û–ô_–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨>`, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª –≤ `Dockerfile`.

---

**MobaXterm (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Windows):**
–≠—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç SSH-–∫–ª–∏–µ–Ω—Ç, SFTP, —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.
1.  –û—Ç–∫—Ä–æ–π MobaXterm.
2.  –ù–∞–∂–º–∏ `Session` (–≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É).
3.  –í—ã–±–µ—Ä–∏ —Ç–∏–ø —Å–µ—Å—Å–∏–∏ `SSH`.
4.  –í –ø–æ–ª–µ `Remote host` –≤–≤–µ–¥–∏ `localhost`.
5.  –ü–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É `Specify username` –∏ –≤–≤–µ–¥–∏ `root`.
6.  –í –ø–æ–ª–µ `Port` –≤–≤–µ–¥–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2221`).
7.  –ù–∞–∂–º–∏ `OK`.
8.  –ö–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è –∑–∞–ø—Ä–æ—Å –ø–∞—Ä–æ–ª—è, –≤–≤–µ–¥–∏ —Å–≤–æ–π **–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨**.
9.  –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ MobaXterm –º–æ–∂–µ—Ç —Å–ø—Ä–æ—Å–∏—Ç—å, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–∏ —Ö–æ—Å—Ç –≤ –∫—ç—à ‚Äî –Ω–∞–∂–º–∏ `Yes`.

---

**Termius (–∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π: Windows, macOS, Linux, Mobile):**
–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ —É–¥–æ–±–Ω—ã–π SSH-–∫–ª–∏–µ–Ω—Ç —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π.
1.  –û—Ç–∫—Ä–æ–π Termius.
2.  –ù–∞–∂–º–∏ `+ New Host` (–æ–±—ã—á–Ω–æ –≤ –ª–µ–≤–æ–º –º–µ–Ω—é).
3.  –í –ø–æ–ª–µ `Alias` –≤–≤–µ–¥–∏ –∏–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, `ubuntu_s1_proxy`.
4.  –í –ø–æ–ª–µ `Hostname` –≤–≤–µ–¥–∏ `localhost`.
5.  –í –ø–æ–ª–µ `Port` –≤–≤–µ–¥–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2221`).
6.  –í –ø–æ–ª–µ `Username` –≤–≤–µ–¥–∏ `root`.
7.  –í –ø–æ–ª–µ `Password` –≤–≤–µ–¥–∏ —Å–≤–æ–π **–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨**.
8.  –ù–∞–∂–º–∏ `Save` –∏–ª–∏ `Connect`.

---

**PuTTY (–¥–ª—è Windows):**
–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∏ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π SSH-–∫–ª–∏–µ–Ω—Ç.
1.  –ó–∞–ø—É—Å—Ç–∏ PuTTY.
2.  –í –ø–æ–ª–µ `Host Name (or IP address)` –≤–≤–µ–¥–∏ `localhost`.
3.  –í –ø–æ–ª–µ `Port` –≤–≤–µ–¥–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2221`).
4.  –í—ã–±–µ—Ä–∏ `Connection type` –∫–∞–∫ `SSH`.
5.  –ù–∞–∂–º–∏ `Open`.
6.  –ö–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –æ–∫–Ω–æ, –≤–≤–µ–¥–∏ `root` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ª–æ–≥–∏–Ω–∞.
7.  –ù–∞–∂–º–∏ Enter, –∑–∞—Ç–µ–º –≤–≤–µ–¥–∏ —Å–≤–æ–π **–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨** –∏ —Å–Ω–æ–≤–∞ Enter. (–ü–∞—Ä–æ–ª—å –ø—Ä–∏ –≤–≤–æ–¥–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è).
8.  –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ PuTTY –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –∫–ª—é—á–µ —Ö–æ—Å—Ç–∞ ‚Äì –Ω–∞–∂–º–∏ `Accept`.

---

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ç—ã –æ–∫–∞–∂–µ—à—å—Å—è –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Ubuntu. –¢—ã —É–≤–∏–¥–∏—à—å `root@<ID_–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞>:/#` –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º IP –ø—Ä–æ–∫—Å–∏.

### –®–∞–≥ 4.4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–µ—Å—å –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –∏–¥–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Ç—ã –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –ø–æ SSH –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É, –≤—ã–ø–æ–ª–Ω–∏ –ø—Ä–æ—Å—Ç—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–Ω–µ—à–Ω–µ–≥–æ IP-–∞–¥—Ä–µ—Å–∞:

```bash
curl ifconfig.me
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—ã –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å IP-–∞–¥—Ä–µ—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç IP-–∞–¥—Ä–µ—Å—É —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞ (—Ç–æ—Ç, —á—Ç–æ —Ç—ã —É–∫–∞–∑–∞–ª –≤ `ALL_PROXY` –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞). –≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –≤–µ—Å—å –∏—Å—Ö–æ–¥—è—â–∏–π TCP-—Ç—Ä–∞—Ñ–∏–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏.

---

## –†–∞–∑–¥–µ–ª 5: –ö–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ (–°–æ–≤–µ—Ç—ã –ø–æ –≤—ã–∂–∏–≤–∞–Ω–∏—é) üò±

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –î–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —á—ë—Ç–∫–æ –∏ —Å–ø–æ–∫–æ–π–Ω–æ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –Ω–µ–ø–æ–ª–∞–¥–æ–∫.

–ò–Ω–æ–≥–¥–∞ –±—ã–≤–∞—é—Ç –∑–∞—Ç—ã–∫–∏, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –í–æ—Ç –∫–∞–∫ —Ä–∞—Å–ø—É—Ç–∞—Ç—å –∫–ª—É–±–æ–∫ –ø—Ä–æ–±–ª–µ–º:

### –®–∞–≥ 5.1: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**–ü—Ä–∏–∫–∞–∑:** "–î–æ–ª–æ–∂–∏—Ç—å –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –±–æ—Ä—Ç–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º!"

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º —Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏!

```bash
docker logs <–ò–ú–Ø_–¢–í–û–ï–ì–û_–ö–û–ù–¢–ï–ô–ù–ï–†–ê>
```
–≠—Ç–æ –∫–∞–∫ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —É –¥–æ–º–∏–∫–∞, —á—Ç–æ —É –Ω–µ–≥–æ –±–æ–ª–∏—Ç. –ò—â–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö (`ERROR`, `CRITICAL`) –∏–ª–∏ –Ω–µ–æ–±—ã—á–Ω—ã–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è. –û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ —É–¥–µ–ª–∏ –ª–æ–≥–∞–º `supervisord`, `sshd` –∏ `redsocks`.

### –®–∞–≥ 5.2: –ó–∞–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (–æ—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ä–µ–∂–∏–º!)

**–ü—Ä–∏–∫–∞–∑:** "–í—ã—Å–∞–¥–∏—Ç—å –¥–µ—Å–∞–Ω—Ç –¥–ª—è —Ä—É—á–Ω–æ–π –∏–Ω—Å–ø–µ–∫—Ü–∏–∏!"

–ï—Å–ª–∏ —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ SSH, –∏–ª–∏ —Ö–æ—á–µ—à—å –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω—É—Ç—Ä–∏, –º–æ–∂–Ω–æ –∑–∞–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞–ø—Ä—è–º—É—é:

```bash
docker exec -it <–ò–ú–Ø_–¢–í–û–ï–ì–û_–ö–û–ù–¢–ï–ô–ù–ï–†–ê> bash
```
* `docker exec`: –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤–Ω—É—Ç—Ä–∏ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
* `-it`: –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ–±–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º (–∫–∞–∫ –±—É–¥—Ç–æ —Ç—ã —Å–∏–¥–∏—à—å –ø–µ—Ä–µ–¥ –Ω–∏–º).
* `<–ò–ú–Ø_–¢–í–û–ï–ì–û_–ö–û–ù–¢–ï–ô–ù–ï–†–ê>`: –ù–∞–ø—Ä–∏–º–µ—Ä, `ubuntu_proxy_s1`.
* `bash`: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–±–æ–ª–æ—á–∫—É `bash` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
* **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—ã –æ–∫–∞–∂–µ—à—å—Å—è –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
* **–í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** —Ç—ã –º–æ–∂–µ—à—å –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã Linux, –Ω–∞–ø—Ä–∏–º–µ—Ä:
    * `cat /etc/redsocks.conf`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω `redsocks`. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –≤–µ—Ä–Ω—ã.
    * `iptables -t nat -L -v -n`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ `iptables`. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç—Ä–∞—Ñ–∏–∫ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç `12345`.
    * `systemctl status redsocks` –∏–ª–∏ `supervisorctl status redsocks`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã `redsocks`.
    * `curl ifconfig.me`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π IP.
    * `ping google.com`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ç–∏.

### –®–∞–≥ 5.3: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è (`restarting`)

**–ü—Ä–∏–∫–∞–∑:** "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏!"

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ "–ø–∞–¥–∞–µ—Ç" –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (—Å—Ç–∞—Ç—É—Å `restarting` –≤ `docker ps`), —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ (`supervisord`) –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è.
* **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** (`docker logs <–ò–ú–Ø_–ö–û–ù–¢–ï–ô–ù–ï–†–ê>`). –í —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ –ª–æ–≥–æ–≤ –±—É–¥–µ—Ç –ø—Ä–∏—á–∏–Ω–∞ –ø–∞–¥–µ–Ω–∏—è.
* **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ `supervisord`:** –ó–∞–π–¥–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (`docker exec -it <container_name> bash`) –∏ –ø–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ `supervisord` –≤ `/var/log/supervisor/`. –¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ `sshd.log` –∏ `redsocks.log` –≤ —ç—Ç–æ–π –∂–µ –ø–∞–ø–∫–µ.
* **–£–±–µ–¥–∏—Å—å, —á—Ç–æ SSH-–∫–ª—é—á–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è**: –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å—Ç—Ä–æ–∫–∞ `ssh-keygen -A` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `start.sh` –∏ –Ω–µ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞.
* **–ü—Ä–æ–≤–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `sshd_config`**: –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Å—Ç—Ä–æ–∫–∏ `PermitRootLogin yes` –∏ `PasswordAuthentication yes` –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –∞ `UsePAM yes` –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ `UsePAM no` –≤ `Dockerfile`.

---

## –†–∞–∑–¥–µ–ª 6: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–æ–µ–≤–æ–π –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –°–µ—Ä–≤–µ—Ä–æ–≤ üîß

**–ó–∞–¥–∞—á–∞ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞.

–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –≤–∞—à–∏ —Å–µ—Ä–≤–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ –≤–µ—Å—å –∏—Ö —Ç—Ä–∞—Ñ–∏–∫ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è! –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –∏—Ö –µ—â–µ –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –≠—Ç–∏ —à–∞–≥–∏ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å *–≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞*, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### –®–∞–≥ 6.1: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –°–≤—è–∑–∏ —Å –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –¥–ª—è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

**–ü—Ä–∏–∫–∞–∑:** "–í–æ–π—Ç–∏ –Ω–∞ –±–æ—Ä—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–Ω—ã—Ö —Ä–∞–±–æ—Ç!"

–°–Ω–∞—á–∞–ª–∞ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π –Ω—É–∂–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –≠—Ç–æ –º–æ–∂–Ω–æ –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:
* **–ß–µ—Ä–µ–∑ SSH:**
    ```bash
    ssh root@localhost -p 2221 # –î–ª—è s1, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 2222 –¥–ª—è s2, 2223 –¥–ª—è s3, 8001 –¥–ª—è node_example_1
    ```
    –í–≤–µ–¥–∏—Ç–µ –≤–∞—à **–°–ï–ö–†–ï–¢–ù–´–ô_SSH_–ü–ê–†–û–õ–¨**.
* **–ß–µ—Ä–µ–∑ `docker exec` (–µ—Å–ª–∏ SSH –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –∏–ª–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏):**
    ```bash
    docker exec -it ubuntu_proxy_s1 bash # –î–ª—è ubuntu_proxy_s1, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ubuntu_proxy_s2, ubuntu_proxy_s3, blockchain_node_1
    ```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### –®–∞–≥ 6.2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –°–∏—Å—Ç–µ–º (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –í–∞–∂–Ω–æ!)

**–ü—Ä–∏–∫–∞–∑:** "–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤!"

–í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤ –ø–∞–∫–µ—Ç–æ–≤ –∏ —Å–∞–º–æ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

```bash
apt update && apt upgrade -y
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π. –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

### –®–∞–≥ 6.3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü–æ–ª–µ–≤–æ–≥–æ –°–Ω–∞—Ä—è–∂–µ–Ω–∏—è

**–ü—Ä–∏–∫–∞–∑:** "–û—Å–Ω–∞—Å—Ç–∏—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –ø–æ–ª–µ–≤—ã–º —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ–º!"

–≠—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—Å—è—Ç –∫–æ–º—Ñ–æ—Ä—Ç —Ä–∞–±–æ—Ç—ã –≤ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ:
* `htop`: –í—ã—Å–æ–∫–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π "–¥–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á" –¥–ª—è Linux, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –Ω–∞–≥–ª—è–¥–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤.
* `mc` (Midnight Commander): –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏, –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞—é—â–∏–π –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.
* `nano`: –ü—Ä–æ—Å—Ç–æ–π –∏ –ª–µ–≥–∫–æ—É—Å–≤–æ—è–µ–º—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä.

```bash
apt install -y htop mc nano
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –£–∫–∞–∑–∞–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –±—É–¥—É—Ç –∏–Ω—Å—Ç–∞–ª–ª–∏—Ä–æ–≤–∞–Ω—ã. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Ö —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å, –≤—ã–ø–æ–ª–Ω–∏–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, `htop` –∏–ª–∏ `mc`.

### –®–∞–≥ 6.4: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –í—Ä–µ–º–µ–Ω–∏

**–ü—Ä–∏–∫–∞–∑:** "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã!"

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å, —á—Ç–æ–±—ã –≤—Å–µ –∂—É—Ä–Ω–∞–ª—ã —Å–æ–±—ã—Ç–∏–π –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –≤–∞—à–µ–º—É —Ç–µ–∫—É—â–µ–º—É –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é. –î–ª—è –ù–∏–¥–µ—Ä–ª–∞–Ω–¥–æ–≤ —ç—Ç–æ `Europe/Amsterdam`.

```bash
timedatectl set-timezone Europe/Amsterdam
```
–î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
timedatectl
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–º–∞–Ω–¥–∞ `timedatectl` –æ—Ç–æ–±—Ä–∞–∑–∏—Ç –Ω–æ–≤—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä: `Time zone: Europe/Amsterdam`.

### –®–∞–≥ 6.5: –í–æ–∑–≤–µ–¥–µ–Ω–∏–µ –û–±–æ—Ä–æ–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –†—É–±–µ–∂–µ–π (UFW)

**–ü—Ä–∏–∫–∞–∑:** "–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∑–∞—â–∏—Ç–Ω—ã–π –ø–µ—Ä–∏–º–µ—Ç—Ä –≤–æ–∫—Ä—É–≥ –∫–∞–∂–¥–æ–≥–æ —Ñ–æ—Ä–ø–æ—Å—Ç–∞!"

–ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä Uncomplicated Firewall (UFW) –ø—Ä–æ—Å—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç –∑–∞—â–∏—Ç—É –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π.
* –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Ö–æ–¥—è—â–∏–µ SSH-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–ø–æ—Ä—Ç 22):
    ```bash
    ufw allow ssh
    ```
* **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:** –ï—Å–ª–∏ –≤–∞—à–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ (–Ω–æ–¥–∞ –∏–ª–∏ –¥—Ä—É–≥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, P2P-—Ç—Ä–∞—Ñ–∏–∫ –¥–ª—è –±–ª–æ–∫—á–µ–π–Ω-–Ω–æ–¥—ã, RPC-–ø–æ—Ä—Ç), –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —è–≤–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —ç—Ç–∏ –ø–æ—Ä—Ç—ã —á–µ—Ä–µ–∑ UFW! –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –Ω–æ–¥—ã Ethereum:
    ```bash
    ufw allow 8545/tcp # –î–ª—è RPC
    ufw allow 30303/tcp # –î–ª—è P2P TCP
    ufw allow 30303/udp # –î–ª—è P2P UDP
    ```
* –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä. –°–∏—Å—Ç–µ–º–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –≤–≤–µ–¥–∏—Ç–µ `y` –∏ –Ω–∞–∂–º–∏—Ç–µ Enter:
    ```bash
    ufw enable
    ```
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞:
    ```bash
    ufw status
    ```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `ufw status` –ø–æ–∫–∞–∂–µ—Ç, —á—Ç–æ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä –∞–∫—Ç–∏–≤–µ–Ω (`Status: active`) –∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤–∞–º–∏ –ø–æ—Ä—Ç—ã.

### –®–∞–≥ 6.6: –í–µ—Ä–±–æ–≤–∫–∞ –ù–æ–≤–æ–≥–æ –ü–µ—Ä—Å–æ–Ω–∞–ª–∞ (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)

**–ü—Ä–∏–∫–∞–∑:** "–ù–∞–∑–Ω–∞—á–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏!"

–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ–¥ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é `root` —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏ –∏ –ø—Ä–∞–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `sudo` (–¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).

```bash
adduser <–ù–û–í–û–ï_–ò–ú–Ø_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø>
```
–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º —Å–∏—Å—Ç–µ–º—ã: –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å, –∑–∞—Ç–µ–º –ø—Ä–æ—Å—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–π—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

–¢–µ–ø–µ—Ä—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∞–≤–∞ `sudo` (—ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –µ–º—É –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã):

```bash
usermod -aG sudo <–ù–û–í–û–ï_–ò–ú–Ø_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø>
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∏ –≤–∫–ª—é—á–µ–Ω –≤ –≥—Ä—É–ø–ø—É `sudo`. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é `root` (`exit`) –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º —É–∂–µ –ø–æ–¥ –Ω–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:

```bash
ssh <–ù–û–í–û–ï_–ò–ú–Ø_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø>@localhost -p 2221 # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–æ—Ä—Ç –≤–∞—à–µ–≥–æ —Ñ–æ—Ä–ø–æ—Å—Ç–∞
```
–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å `sudo` –ø–µ—Ä–µ–¥ –∫–æ–º–∞–Ω–¥–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `sudo apt update`).

### –®–∞–≥ 6.7: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (–ü—Ä–∏–º–µ—Ä)

**–ü—Ä–∏–∫–∞–∑:** "–ü—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –Ω–∞ –∫–æ–º–∞–Ω–¥–Ω—ã—Ö –ø—É–Ω–∫—Ç–∞—Ö!"

–ï—Å–ª–∏ –≤—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–ª–æ–∫—á–µ–π–Ω-–Ω–æ–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `node_example_1`), –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Å—Ç–∞–ª–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–ª–∏–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –µ–≥–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

**–ü—Ä–∏–º–µ—Ä –¥–ª—è –Ω–æ–¥—ã Ethereum (Geth):**

1.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º** (—Å–æ–≥–ª–∞—Å–Ω–æ –®–∞–≥ 6.1) –ø–æ–¥ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é `root` –∏–ª–∏ –Ω–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Å –ø—Ä–∞–≤–∞–º–∏ `sudo`.

2.  **–ò–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—è Geth:**

    ```bash
    sudo apt install software-properties-common
    sudo add-apt-repository -y ppa:ethereum/ethereum
    sudo apt update
    sudo apt install -y ethereum
    ```
    **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–ª–∏–µ–Ω—Ç Geth –±—É–¥–µ—Ç —É—Å–ø–µ—à–Ω–æ –∏–Ω—Å—Ç–∞–ª–ª–∏—Ä–æ–≤–∞–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é: `geth version`.

3.  **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Geth –≤ `supervisord.conf`:**
    –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã `supervisord` –º–æ–≥ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–∞—à–µ–π –Ω–æ–¥–æ–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª `/etc/supervisor/conf.d/supervisord.conf`.
    –°–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑—É—è `nano`):

    ```bash
    sudo nano /etc/supervisor/conf.d/supervisord.conf
    ```
    –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –±–ª–æ–∫ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞:
    ```ini
    [program:geth_node] ; –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, geth_node)
    command=geth --syncmode "snap" --datadir /data --http --http.addr 0.0.0.0 --http.port 8545 --http.api eth,net,web3 --authrpc.addr 0.0.0.0 --authrpc.port 8551 --authrpc.vhosts "*" --authrpc.jwtsecret /path/to/jwt.hex ; –ö–æ–º–∞–Ω–¥–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤–∞—à–µ–π –Ω–æ–¥—ã
    autostart=true
    autorestart=true
    stdout_logfile=/var/log/supervisor/geth_node.log
    stderr_logfile=/var/log/supervisor/geth_node_error.log
    user=root ; –ò–ª–∏ –∏–º—è –≤–∞—à–µ–≥–æ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    loglevel=info
    ```
    * **`command`:** –ó–∞–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `geth` –Ω–∞ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–ª—è –≤–∞—à–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –Ω–æ–¥—ã.
        * `--datadir /data`: –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ! –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–æ —Ç–∞ –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∫–∞–∫ —Ç–æ–º –≤ `docker-compose.yml` (`/data` –≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ).
        * `--authrpc.jwtsecret /path/to/jwt.hex`: –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Ethereum –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è The Merge, –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ —É–∫–∞–∑–∞—Ç—å –µ–≥–æ –ø—É—Ç—å. –≠—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è, –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –î–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏—Å—å –±–µ–∑ –Ω–µ–≥–æ.
        **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `supervisord` –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–∞—à–µ–π –Ω–æ–¥—ã.

4.  **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ `supervisord` –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

    ```bash
    sudo supervisorctl reread
    sudo supervisorctl update
    sudo supervisorctl restart geth_node # –ó–∞–º–µ–Ω–∏—Ç–µ geth_node –Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã, –µ—Å–ª–∏ –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è
    ```
    **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `supervisord` –ø—Ä–æ–∏–∑–≤–µ–¥–µ—Ç –ø–µ—Ä–µ–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ –≤–∞—à–µ–π –Ω–æ–¥—ã. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–µ —Å—Ç–∞—Ç—É—Å: `sudo supervisorctl status`.

–¢–µ–ø–µ—Ä—å –≤–∞—à–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –ø—Ä–æ–∫—Å–∏, –Ω–æ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –≤–∫–ª—é—á–∞—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –±–ª–æ–∫—á–µ–π–Ω-–Ω–æ–¥!

---

## –†–∞–∑–¥–µ–ª 7: –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –ù–∞—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤! üí°

**–ü—Ä–∏–∫–∞–∑ –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–µ–≥–æ:** "–£—Å–≤–æ–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —É—Ä–æ–∫–∏ –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–≤–∞—Ç—å—Å—è –∏–º–∏ –≤ –±—É–¥—É—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö!"

–ñ–µ–ª–∞–µ—Ç–µ —Å—Ç–∞—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–º –º–∞—Å—Ç–µ—Ä–æ–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Docker? –í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–µ–Ω–Ω—ã—Ö —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–≤–µ—Ç–æ–≤:

1.  **–ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–≤–µ–¥—ã–≤–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ Google –∏ Stack Overflow! üß†**
    Docker ‚Äî —ç—Ç–æ –æ–±—à–∏—Ä–Ω–∞—è —Ü–∏—Ñ—Ä–æ–≤–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è, –∏ –Ω–∏–∫—Ç–æ –Ω–µ –æ—Å–≤–æ–∏–ª –µ—ë –≤ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–µ. –ï—Å–ª–∏ –≤—ã —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç–µ—Å—å —Å –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–∏—è–º–∏, –≤–µ—Å—å–º–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ, —á—Ç–æ –∫—Ç–æ-—Ç–æ —É–∂–µ —Ä–µ—à–∞–ª –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É, –∏ –Ω–∞ Stack Overflow –≤—ã –Ω–∞–π–¥–µ—Ç–µ –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
    * **–í–∞—à–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π –¥–ª—è 99% –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á –≤ Docker! ü§©

2.  **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—Ü—ã –∏–∑ Docker Hub! üìö**
    [Docker Hub](https://hub.docker.com/) ‚Äî —ç—Ç–æ –æ–±—à–∏—Ä–Ω—ã–π —Å–∫–ª–∞–¥, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ç—ã—Å—è—á–∏ —É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∏ –≥–æ—Ç–æ–≤—ã—Ö –æ–±—Ä–∞–∑—Ü–æ–≤ "—É–∫—Ä—ã—Ç–∏–π" –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª—é–±—ã—Ö –∑–∞–¥–∞—á!
    * **–í–∞—à–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–æ—Å—Ç—É–ø –∫ —Ç—ã—Å—è—á–∞–º –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≤—ã—Å–æ–∫–æ–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏! ‚úÖ

3.  **–í–µ–¥–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—Ç–µ–∫–∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π (Git) üóùÔ∏è**
    –≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –≤—Å–µ—Ö –≤–∞—à–∏—Ö –º–∞–Ω–µ–≤—Ä–æ–≤.
    * **–ï—ë –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Git ‚Äî —ç—Ç–æ –∫–∞–∫ –º–∞–≥–∏—á–µ—Å–∫–∏–π —Å–µ–π—Ñ, –∫–æ—Ç–æ—Ä—ã–π —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –≤—Å–µ, –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–∞—à–∏—Ö –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö (`Dockerfile`, `docker-compose.yml`, `start.sh`, `supervisord.conf`).
    * –≠—Ç–∏ –∑–∞–ø–∏—Å–∏ –æ–±–µ—Å–ø–µ—á–∞—Ç —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Å–ª—É—á–∞–µ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã—Ö –ø–æ—Ç–µ—Ä—å –∏ –æ–±–ª–µ–≥—á–∞—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –¥–µ–π—Å—Ç–≤–∏–π —Å –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥–æ–π (–µ—Å–ª–∏ –≤—ã –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç–µ –∑–≤–∞–Ω–∏—è —Ç–∏–º–ª–∏–¥–∞, –∫–æ–Ω–µ—á–Ω–æ! üòâ).
    * **–í–∞—à–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –ì–∞—Ä–∞–Ω—Ç–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∏—Å—Ç–æ—Ä–∏–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π.

4.  **–ü—Ä–∏—Å–≤–∞–∏–≤–∞–π—Ç–µ –∑–∞–±–∞–≤–Ω—ã–µ –∫–æ–¥–æ–≤—ã–µ –∏–º–µ–Ω–∞ –≤–∞—à–∏–º –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è–º-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º! ü§£**
    –≠—Ç–æ –ø–æ–¥–Ω–∏–º–µ—Ç –±–æ–µ–≤–æ–π –¥—É—Ö –∏ —É–ø—Ä–æ—Å—Ç–∏—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é! –í–º–µ—Å—Ç–æ `container_123` –Ω–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ `spiderman_server` –∏–ª–∏ `super_secret_base`!
    * **–í–∞—à–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –ü–æ–≤—ã—à–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π.

5.  **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –≤–∏–∑—É–∞–ª—å–Ω–æ–π —Ä–∞–∑–≤–µ–¥–∫–∏ Docker Desktop (GUI) üñºÔ∏è**
    –≠—Ç–æ –≤–∞—à–∞ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –≥–æ—Ä–æ–¥–∞ Docker, –≥–¥–µ –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å–µ —Å–≤–æ–∏ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è, –∏—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–ª–æ–≥–∏) –∏ –ø–æ—Ç—Ä–µ–±–ª—è–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã (—Å–∫–æ–ª—å–∫–æ "—Å–∏–ª" –æ–Ω–∏ —Ä–∞—Å—Ö–æ–¥—É—é—Ç). –ß—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ –ø–æ–ª–µ–∑–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç!
    * **–í–∞—à–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

6.  **–°–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É–π—Ç–µ —Å–≤–æ–∏ –Ω–∞–≤—ã–∫–∏ –≤ –æ—Å–≤–æ–µ–Ω–∏–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ Docker! üï∏Ô∏è**
    –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –∏ —Å –≤–Ω–µ—à–Ω–∏–º –º–∏—Ä–æ–º ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ —É—Å–ø–µ—à–Ω–æ–º—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
    * **–í–∞—à–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–ø–ª–µ–∫—Å—ã! üè∞

–£–¥–∞—á–∏ –≤–∞–º –≤ –≤–∞—à–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å Docker, —Ç–æ–≤–∞—Ä–∏—â –ì–ª–∞–≤–Ω–æ–∫–æ–º–∞–Ω–¥—É—é—â–∏–π! –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –ø—Ä–∏–∫–∞–∑—ã —Ç–æ—á–Ω–æ, –∏ —É—Å–ø–µ—Ö –±—É–¥–µ—Ç –Ω–∞ –≤–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ! üí™
